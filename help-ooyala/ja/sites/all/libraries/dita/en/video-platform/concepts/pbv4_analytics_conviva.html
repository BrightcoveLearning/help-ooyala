
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Conviva Analytics Plugin"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="pbv4_analytics_conviva"/>
<link rel="stylesheet" type="text/css" href="http://help-ooyala.brightcove.com/../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="http://help-ooyala.brightcove.com/../css/ooyala.css"/>
<title>Conviva Analyticsプラグイン</title>
</head>
<body id="pbv4_analytics_conviva">


    <h1 class="title topictitle1">Conviva Analyticsプラグイン</h1>

     <div class="body conbody">
         <div class="section">Player V4 Conviva分析プラグイン（<samp class="ph codeph">conviva-core-sdk.min.js</samp> そして <samp class="ph codeph">conviva.min.js</samp>） 記録します <a class="xref" href="http://http://www.conviva.com.html">Conviva</a> Ooyala Player V4のための分析。</div>
 
         <div class="section"><h2 class="title sectiontitle">再生中の実行時の流れ</h2>再生中に、再生イベントがイベントに関する通知をConviva Analyticsにトリガーします。 <div class="fig fignone">
                <img class="image" src="http://help-ooyala.brightcove.com/../image/pbv4_analytics_conviva.png"/>
            </div>
</div>

         <div class="section"><h2 class="title sectiontitle">対応プレイヤー</h2>Convivaプラグインは、ConvivaとOoyala HTML5 Webプレーヤーのバージョン4.12.6以降との統合をサポートします。 Convivaプラグインは、すべてのPlayer V4ビデオプラグインで機能します。</div>

         <div class="section"><h2 class="title sectiontitle">要件</h2>
  分析目的でビットレート情報を追跡する場合は、次のいずれかのビデオプラグインを使用する必要があります。
   <ul class="ul">
    <li class="li">DASHおよびHLS用のBitmovinプラグイン（<a class="xref" href="pbv4_resources.html#pbv4_resources__bitmovin_plugin">bit_wrapper.min.js</a>（SafariのHLS HTML5を除く）</li>

    <li class="li">AkamaiパッケージHDS用のAkamai HDビデオプラグイン（<a class="xref" href="pbv4_resources.html#pbv4_resources__akamai_hd_plugin">akamaiHD_flash.min.js</a>)<div class="note note"><span class="notetitle">注意：</span>  プレーヤーV4用のAkamai Packaged HDS用Akamai HDビデオプラグインは推奨されておらず、無効にする予定です。 詳細と代替案については、
     <a class="xref" href="../relnotes/2017-06-04.html">OVPリリースノート</a>.</div>
</li>

    <li class="li">HDS用OSMF Flashプラグイン（<a class="xref" href="pbv4_resources.html#pbv4_resources__flash_hds">osmf_flash.min.js</a>)<div class="note note"><span class="notetitle">注意：</span>  Player V4用HDS用OSMF Flash Videoプラグインは推奨されておらず、無効にする予定です。 詳細と代替案については、 <a class="xref" href="../relnotes/2017-06-04.html">OVPリリースノート</a>.  </div>
</li>

   </ul>
 
   HLSとMP4メインビデオプラグイン（<a class="xref" href="pbv4_resources.html#pbv4_resources__hls_mp4">main_html5.min.js</a>）ビットレート情報は報告されません。
   </div>

         <div class="section"><h2 class="title sectiontitle">必須条件</h2>Convivaプラグインを使用する前に、Convivaの担当者に連絡して次のアカウント情報を要求する必要があります。 <ul class="ul">
                <li class="li">あなたのConviva <span class="keyword parmname">customerKey</span></li>

                <li class="li">インクルード <span class="keyword parmname">gatewayUrl</span> アカウントに使用する</li>

            </ul>
WebページにPlayer V4を埋め込むときにこれらの値を指定する必要があります。 </div>
          
        <div class="section"><h2 class="title sectiontitle">プラグインの場所</h2>最新版のプラグインは次のパスにあります。 <strong class="ph b">LATEST_PLAYER_VERSION</strong> 最新のプレーヤーのバージョンです（4.12.6以上）：
            <pre class="pre codeblock">//player.ooyala.com/static/v4/stable / LATEST_PLAYER_VERSION /analytics-plugin/conviva-core-sdk.min.js //player.ooyala.com/static/v4 / stable / LATEST_PLAYER_VERSION /analytics-plugin/conviva .min.js</pre>
</div>

   
   <div class="section"><h2 class="title sectiontitle">統合ステップ</h2>Player V4用のConvivaプラグインを使用して統合するには：
                    <p class="gt-block p"><strong class="ph b">ステップ1：最新のConvivaプラグインをダウンロードしてホストする</strong></p>

       <div class="note note"><span class="notetitle">注意：</span> これは、で説明しているように、プレーヤーリソースをセルフホスティングしている場合にのみ適用されます <a class="xref" href="pbv4_host.html">ホスティングプレイヤーV4リソース</a>.</div>

       <ol class="ol">
                <li class="li">以下のプラグインの最新版をダウンロードしてください。
                        <strong class="ph b">LATEST_PLAYER_VERSION</strong> 最新のプレイヤーバージョン（4.12.6以上）です。
                    <pre class="pre codeblock">player.ooyala.com/static/v4 / stable / LATEST_PLAYER_VERSION /analytics-plugin/conviva-core-sdk.min.js player.ooyala.com/static/v4 / stable / LATEST_PLAYER_VERSION /analytics-plugin/conviva.min.js</pre>
</li>

                <li class="li">プレーヤーリソースをセルフホスティングしている場合は、の説明に従ってConvivaプラグインをホストします。 <a class="xref" href="pbv4_host.html">ホスティングプレイヤーV4リソース</a>.</li>

            </ol>
<p class="gt-block p"><strong class="ph b">ステップ2：WebページにConviva統合を追加する</strong></p>
 プレーヤーを読み込むページに次のスクリプトを追加します。 これらのプラグインを必ずロードしてください
                <em class="ph i">After</em> core.min.jsをロードします。
                <pre class="pre codeblock">&lt;script src = &quot;url_where_hosted / conviva-core-sdk.min.js&quot;&gt; &lt;/script&gt; &lt;script src = &quot;url_where_hosted / conviva.min.js&quot;&gt; &lt;/script&gt;</pre>
<div class="note note"><span class="notetitle">注意：</span> あなたはconviva-core-sdk.min.jsをロードしなければなりません <em class="ph i">before</em> conviva.min.js</div>

            <p class="gt-block p"><strong class="ph b">ステップ3：作成機能を使用してプレーヤーを作成する</strong></p>
 プレーヤーを作成するには、プレーヤーのV4 OO.Player.create関数を使用します。 作成機能については、を参照してください。 <a class="xref" href="https://docs.brightcove.com/apidocs-ooyala/">docs.brightcove.com/apidocs-ooyala/</a>.
                    
                    <p class="gt-block p"><strong class="ph b">ステップ4：Convivaプラグインのページレベルパラメータの指定</strong></p>

            以下のページレベルパラメータを指定します。 
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
                    
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="14.285714285714285%" id="d434737e187">パラメーター</th>

                            <th class="entry" valign="top" width="14.285714285714285%" id="d434737e190">タイプ</th>

                            <th class="entry" valign="top" width="71.42857142857143%" id="d434737e193">説明</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e187 "><strong class="ph b">必須</strong></td>

                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e190 "> </td>

                            <td class="entry" valign="top" width="71.42857142857143%" headers="d434737e193 "> </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e187 "><span class="keyword parmname">gatewayUrl</span></td>

                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e190 ">文字列</td>

                            <td class="entry" valign="top" width="71.42857142857143%" headers="d434737e193 ">プレイヤーの統計情報をConviva Analyticsに報告するために使用されるURL。 Convivaによって発行されました。</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e187 "><span class="keyword parmname">customerKey</span></td>

                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e190 ">文字列</td>

                            <td class="entry" valign="top" width="71.42857142857143%" headers="d434737e193 ">Convivaアカウントに関連付けられている顧客キー。 Convivaによって発行されました。</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e187 "><span class="keyword parmname">アプリケーション名</span></td>

                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e190 ">文字列</td>

                            <td class="entry" valign="top" width="71.42857142857143%" headers="d434737e193 ">Convivaに報告するアプリケーションの名前。</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e187 "><strong class="ph b">任意</strong></td>

                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e190 "> </td>

                            <td class="entry" valign="top" width="71.42857142857143%" headers="d434737e193 "> </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e187 "><span class="keyword parmname">customMetadata</span></td>

                            <td class="entry" valign="top" width="14.285714285714285%" headers="d434737e190 ">文字列</td>

                            <td class="entry" valign="top" width="71.42857142857143%" headers="d434737e193 ">Convivaに報告するためのカスタムメタデータ。 定義したキーと値のペアのリスト。 例： <ul class="ul">
                                    <li class="li">サイトが追跡できるユーザー統計（年齢、性別など）</li>

                                    <li class="li">その他のメタデータ（サイトカテゴリなど）</li>

                                </ul>
 カスタムメタデータはConvivaに渡されます。</td>

                        </tr>

                    </tbody>

                </table>
</div>
</div>

     <div class="section"><h2 class="title sectiontitle">例</h2>
        <pre class="pre codeblock">&lt;html&gt; &lt;head&gt; &lt;title&gt; Conviva Analyticsプラグインの例&lt;/title&gt; &lt;！ -  V4 JSコアが必要です。 スキン、ディスカバリー、広告などのプラグインは個別にロードする必要があります - &gt; &lt;script src = &quot;url_where_hosted / core.min.js&quot;&gt; &lt;/script&gt; &lt;script src = &quot;url_where_hosted / html5-skin.min.js&quot;&gt; &lt;/script&gt; &lt;link rel = &quot;スタイルシート&quot; href = &quot;url_where_hosted / html5-skin.min.css&quot; /&gt; &lt;！ - ビデオプラグインが必要です。 この例は、メインビデオプラグイン - &gt; &lt;script src = &quot;url_where_hosted / main_html5.min.js&quot;&gt; &lt;/script&gt; &lt;！ -  Analyticsプラグイン - &gt; &lt;script src = &quot;url_where_hosted / conviva.min.js&quot;の関係を示しています。 &gt; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id = &quot;container&quot; style = &quot;幅：640px;高さ：360px;&quot; &gt; &lt;/div&gt; &lt;script&gt; var playerParam = {&quot;pcode&quot;： &quot;YOUR_PCODE&quot;、 &quot;playerBrandingId&quot;： &quot;YOUR_PLAYER_ID&quot;、 &quot;skin&quot;：{// Configにはプレーヤースキンの設定が含まれます。 //必要に応じてローカル設定に変更してください。 &quot;config&quot;： &quot;url_where_hosted / skin.json&quot;}、
             <strong class="ph b">&quot;conviva&quot;：{&quot;gatewayUrl&quot;： &quot;https://my-test.testonly.conviva.com&quot;、 &quot;customerKey&quot;： &quot;abcde12345customerkey&quot;、 &quot;applicationName&quot;： &quot;testAppName&quot;、 &quot;customMetadata&quot;：{&quot;testKey&quot;： &quot;testValue&quot;、 &quot;アカウント&quot;： &quot;myAccount&quot;、 &quot;test&quot;： &quot;true&quot;}}</strong>
         ; OO.ready（function（）{window.pp = OO.Player.create（ &quot;container&quot;、 &quot;YOUR_ASSET_ID&quot;、playerParam）;}）; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</pre>

     </div>

     </div>

    

<script data-cfasync="false" src="https://tdns6.gtranslate.net/tdn-bin/queue.js"></script><!-- Yandex.Metrika counter for GTranslate --><script data-cfasync="false">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter36618640 = new Ya.Metrika({ id:36618640, clickmap:true, trackLinks:true, accurateTrackBounce:true, ut:"noindex" }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/36618640?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></di