<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Get All Items from a Watchlist"/>
<meta name="DC.Relation" scheme="URI" content="../api/cd_watchlist_api.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="watchlist_api_items"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Get All Items from a Watchlist</title>
</head>
<body id="watchlist_api_items">


  <h1 class="title topictitle1">Get All Items from a Watchlist</h1>

 <div class="body refbody">
   <div class="section">This endpoint retrieves all the items belonging to the specified watchlist. </div>

  <div class="section"><h2 class="title sectiontitle">HTTP Request</h2>
    <pre class="pre codeblock">GET https://player.ooyala.com/watchlist/v3/&lt;watchlist_id&gt;/items?page_number=&lt;123&gt;&amp;page_size=&lt;10&gt;&amp;account_token=&lt;account_token&gt;</pre>

  </div>

  <div class="section"><h2 class="title sectiontitle">Query Parameters</h2>
    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
        
        
        
        
        <thead class="thead" align="left">
          <tr class="row">
            <th class="entry" valign="top" width="14.285714285714285%" id="d57434e42">Parameter</th>

            <th class="entry" valign="top" width="57.14285714285714%" id="d57434e45">Description</th>

            <th class="entry" valign="top" width="14.285714285714285%" id="d57434e48">Type</th>

            <th class="entry" valign="top" width="14.285714285714285%" id="d57434e51">Required</th>

          </tr>

        </thead>

        <tbody class="tbody">
          <tr class="row">
            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e42 "><span class="keyword parmname">api_version</span></td>

            <td class="entry" valign="top" width="57.14285714285714%" headers="d57434e45 ">Must be <span class="keyword parmname">v3</span>. </td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e48 ">String</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e51 ">Yes (URL)</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e42 "><span class="keyword parmname">watchlist_id</span></td>

            <td class="entry" valign="top" width="57.14285714285714%" headers="d57434e45 ">The ID of the watchlist containing the items to retrieve. Must be a valid UUID
                linked to an existing watchlist associated with the user's account. If not
                specified, items are retrieved from the user's default watchlist.</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e48 ">UUIDv4 OR String</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e51 ">No (URL)</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e42 "><span class="keyword parmname">page_number</span></td>

            <td class="entry" valign="top" width="57.14285714285714%" headers="d57434e45 ">Specifies which page (of items) to return.  Must be an integer value greater than
                or equal to 0.<div class="note note"><span class="notetitle">Note:</span> Pages are numbered starting at index
                  0.</div>
</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e48 ">String</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e51 ">Yes (URL)</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e42 "><span class="keyword parmname">page_size</span></td>

            <td class="entry" valign="top" width="57.14285714285714%" headers="d57434e45 ">Specifies the number of items per page. If specified, must be an integer value
                greater than or equal to 1. If not specified, the default page size is 10 items. </td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e48 ">String</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e51 ">No (URL)</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e42 "><span class="keyword parmname">account_token</span></td>

            <td class="entry" valign="top" width="57.14285714285714%" headers="d57434e45 ">Used by the Watchlist Service to reference the watchlist
                associated with a particular end user (identified by their UUID). For details, see
                  <a class="xref" href="account_token_api.html" title="Access to certain Ooyala services, such as eCommerce and Watchlist, is controlled using an Ooyala Account Token. The Ooyala Account Token API generates an account token to authenticate a user. When calling these APIs, the client is required to provide the account token for authentication. After your application has logged in a user, it calls the Ooyala Account Token API route to get the account token. The account token is valid for a specific amount of time, 15 minutes by default.">Ooyala Account Token API</a>.</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e48 ">String</td>

            <td class="entry" valign="top" width="14.285714285714285%" headers="d57434e51 ">Yes (URL body)</td>

          </tr>

        </tbody>

      </table>
</div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Returned Metadata</h2> If you are using an Ooyala-supported metadata store, the
      following metadata is returned. <div class="note note"><span class="notetitle">Note:</span> The Watchlist Service is not responsible for
        automatically maintaining synchronization with the asset metadata store. If an asset is
        deleted/modified in the metadata store, this will not automatically cause all references to
        this asset (within the watchlist's scope) to be deleted/modified.</div>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="33.33333333333333%" id="d57434e174">Field</th>

              <th class="entry" valign="top" width="66.66666666666666%" id="d57434e177">Description</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="33.33333333333333%" headers="d57434e174 "><span class="keyword parmname">position</span></td>

              <td class="entry" valign="top" width="66.66666666666666%" headers="d57434e177 ">The placement of the item in the list.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.33333333333333%" headers="d57434e174 "><span class="keyword parmname">created_at</span></td>

              <td class="entry" valign="top" width="66.66666666666666%" headers="d57434e177 ">The time that the list was created.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.33333333333333%" headers="d57434e174 "><span class="keyword parmname">updated_at</span></td>

              <td class="entry" valign="top" width="66.66666666666666%" headers="d57434e177 ">The last time the list was updated.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.33333333333333%" headers="d57434e174 "><span class="keyword parmname">items</span></td>

              <td class="entry" valign="top" width="66.66666666666666%" headers="d57434e177 ">A list of each <span class="keyword parmname">asset_id</span> included on the list.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.33333333333333%" headers="d57434e174 "><span class="keyword parmname">metadata</span></td>

              <td class="entry" valign="top" width="66.66666666666666%" headers="d57434e177 ">All the metadata about the asset.</td>

            </tr>

          </tbody>

        </table>
</div>
<div class="note note"><span class="notetitle">Note:</span> Depending on the supported asset metadata store you are using, additional
        metadata might be returned.</div>

    </div>

  <div class="section"><h2 class="title sectiontitle">Return Codes</h2>
    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
        
        
        
        <thead class="thead" align="left">
          <tr class="row">
            <th class="entry" valign="top" width=".5" id="d57434e261">Code</th>

            <th class="entry" valign="top" width="NaN%" id="d57434e264">Reason</th>

            <th class="entry" valign="top" width="NaN%" id="d57434e267">Description</th>

          </tr>

        </thead>

        <tbody class="tbody">
          <tr class="row">
            <td class="entry" valign="top" width=".5" headers="d57434e261 "><span class="keyword parmname">200</span></td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e264 ">OK</td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e267 ">GET request succeeded.</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width=".5" headers="d57434e261 "><span class="keyword parmname">400</span></td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e264 ">Request error</td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e267 ">Failed due to any of the following issues: <ul class="ul">
                  <li class="li">Parameters are missing or formatted incorrectly.</li>

                  <li class="li">The specified <span class="keyword parmname">watchlist_id</span> is not empty and does not
                    exist.</li>

                </ul>
</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width=".5" headers="d57434e261 "><span class="keyword parmname">401</span></td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e264 ">Unauthorized</td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e267 ">The specified <span class="keyword parmname">account_token</span> is invalid.</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width=".5" headers="d57434e261 "><span class="keyword parmname">404</span></td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e264 ">Not found</td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e267 ">The server is down.</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width=".5" headers="d57434e261 "><span class="keyword parmname">500</span></td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e264 ">Internal server error</td>

            <td class="entry" valign="top" width="NaN%" headers="d57434e267 ">An internal server error occurred.</td>

          </tr>

        </tbody>

      </table>
</div>

  </div>

   <div class="section"><h2 class="title sectiontitle">Example</h2>
      <strong class="ph b">Request</strong>
      <pre class="pre codeblock">[GET]/watchlist/v3/d074b535-253d-4f6a-82a1-1be384e7c182/items?account_token=NnMvb01DWWRMWmJXdTRRRUJCQmwvWjE4WVQvUytpSittY2h0azlmWWZPVVlUc25MOGxPNzZJV2ttMzk0TG4ydlkvbFZrZTI4VkNIYUJiU0owTGFadlFxenM3YU5mS2VrYXRjSVhpWDBXUS84S2VDQ0dUNmJYTmhEY2VNSkZ1dmc=&amp;page_number=0&amp;page_size=10</pre>

      <strong class="ph b">Response</strong> (Success) <ul class="ul">
        <li class="li">Position indexing begins at 0.</li>

        <li class="li">Page number indexing begins at 0.</li>

        <li class="li">Items are ordered in response according to their position index (Ascending).</li>

        <li class="li">Metadata may or may not exist for a particular item (video). If it does not, then the
          metadata field is not returned in the corresponding json object for that item. Item
          metadata will be a json-formatted collection of key-value pairs corresponding to the
          metadata associated with the specified item. </li>

      </ul>
<pre class="pre codeblock">OK(200)
{
    "account_pcode": "t5SYJyOnyQw1eBBfirDLeVPt_p18",
    "account_id": "18285cswfcdf204896230fc2a67a5faf",
    "watchlist_id": "d074b535-253d-4f6a-82a1-1be384e7c182",
    "created_at": 1454351584074,
    "name": "horror movies",
    "updated_at": 1454351595185,
    "number_of_items": 2
   "page_size": 10,
   "page_number": 0,
   "items": [
    {
      "watchlist_id": "d074b535-253d-4f6a-82a1-1be384e7c182",
      "created_at": 1454351584084,
      "item_id": "VlNWJrdarkDhWd-y4D0NuEbHi872V9_y",
      "updated_at": 1454351584094,
      "position": 0,
	      "metadata": {
                       “rating” : “PG13”,
                       …
                       “year” : “2014”,
                      }
    },

   …,

    {
      "watchlist_id": "d074b535-253d-4f6a-82a1-1be384e7c182",
      "created_at": 1454351584094,
      "item_id": "VlNWJrdarkDhWd-y4D0NuEbHi872V9_z",
      "updated_at": 1454351584194,
      "position": 1,
	      "metadata": {
                       “rating” : “PG13”,
                       …
                       “year” : “2015”,
                      }
    }
  ]
}</pre>

    </div>

 </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="cd_watchlist_api.html">Watchlist REST API Reference</a></div>
</div>
</div>

</body>
</html>