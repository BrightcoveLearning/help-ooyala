<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Handling Errors for Player V4 Using JavaScript"/>
<meta name="abstract" content="Error Handling functions and events enable you to get information about Player errors."/>
<meta name="description" content="Error Handling functions and events enable you to get information about Player errors."/>
<meta name="DC.Relation" scheme="URI" content="../concepts/book_errors.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/pbv4_api.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/book_errors.html"/>
<meta name="DC.Relation" scheme="URI" content="pbv4_dev_pubsub.html"/>
<meta name="DC.Relation" scheme="URI" content="../api/pbv4_api_events.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="pbv4_dev_errors"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Handling Errors for Player V4 Using JavaScript</title>
</head>
<body id="pbv4_dev_errors">


 <h1 class="title topictitle1">Handling Errors for Player V4 Using JavaScript</h1>

 

 <div class="body refbody"><p class="shortdesc"> Error Handling functions and events enable you to get information about Player errors. </p>

  <div class="section">
   <p class="p"> The Ooyala Player V4 error functions and events are described in the following tables. </p>

  </div>

  <div class="section"><h2 class="title sectiontitle">Error Functions</h2>
   
   <p class="p">The following table describes the supported error handling functions.</p>

  </div>

  <div class="section">
   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="pbv4_dev_errors__table_assets_jsprop" class="table" frame="border" border="1" rules="all">
     
     
     <thead class="thead" align="left">
      <tr class="row">
       <th class="entry" valign="top" width="25.510204081632654%" id="d886149e43">Function</th>

       <th class="entry" valign="top" width="74.48979591836735%" id="d886149e46">Description</th>

      </tr>

     </thead>

     <tbody class="tbody">
      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e43 "><span class="keyword apiname" id="pbv4_dev_errors__as_canR1">getErrorCode</span>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e46 ">Displays the video error code</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e43 "><span class="keyword apiname" id="pbv4_dev_errors__as_curIRat1">getState</span>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e46 ">Retrieves the current player state. Possible states are defined in
         <samp class="ph codeph">OO.STATE</samp> as follows<ul class="ul" id="pbv4_dev_errors__ul_p3b_r44_n3">
         <li class="li">LOADING</li>

         <li class="li">READY</li>

         <li class="li">PLAYING</li>

         <li class="li">PAUSED</li>

         <li class="li">BUFFERING</li>

         <li class="li">ERROR</li>

         <li class="li">DESTROYED</li>

        </ul>
</td>

      </tr>

     </tbody>

    </table>
</div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Error Messages</h2>
   
      <p class="p"> The following namespaces, described in the <a class="xref" href="https://docs.brightcove.com/apidocs-ooyala/player_v4_js/index.html" target="_blank">Player JavaScript API Reference</a>, contain the error messages that can be handled through the V4
    JavaScript Message bus. Use message bus events to handle errors by subscribing to or intercepting the <samp class="ph codeph">OO.EVENTS.ERROR</samp> event:</p>

   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
     
     
     <thead class="thead" align="left">
      <tr class="row">
       <th class="entry" valign="top" width="25.510204081632654%" id="d886149e133">Error Namespace</th>

       <th class="entry" valign="top" width="74.48979591836735%" id="d886149e136">Description</th>

      </tr>

     </thead>

     <tbody class="tbody">
      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e133 "><samp class="ph codeph">OO.ERROR</samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e136 ">Represents the Ooyala V4 Player Errors. This is the parent namespace for all errors, and includes errors for channel content.</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e133 "><samp class="ph codeph">OO.ERROR.API</samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e136 ">Represents errors related to content, metadata, and server connection.</td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e133 "><samp class="ph codeph">OO.ERROR.API.SAS</samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e136 ">Represents all authorization-related errors. </td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e133 "><samp class="ph codeph">OO.ERROR.PLAYBACK</samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e136 ">Represents all errors related to playback. </td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e133 "><samp class="ph codeph">OO.ERROR.VC</samp></td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e136 ">Represents errors related to video element creation and encoding.</td>

      </tr>

     </tbody>

    </table>
</div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Error Events</h2>
   
   <p class="p">The following table describes the error handling events published by the message bus.</p>

  </div>

  <div class="section">
   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="pbv4_dev_errors__table_error_events" class="table" frame="border" border="1" rules="all">
     
     
     <thead class="thead" align="left">
      <tr class="row">
       <th class="entry" valign="top" width="25.510204081632654%" id="d886149e225">Error Event</th>

       <th class="entry" valign="top" width="74.48979591836735%" id="d886149e228">Description</th>

      </tr>

     </thead>

     <tbody class="tbody">
      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e225 "><samp class="ph codeph" id="pbv4_dev_errors__dev_crea"> PLAYER_CREATED </samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e228 ">The very first message that is published after player is created, used to notify all
        plugins to initialize themselves. </td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e225 "><samp class="ph codeph" id="pbv4_dev_errors__dev_err1"> ERROR </samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e228 ">Published when error has occurred, second parameter has error details. </td>

      </tr>

      <tr class="row">
       <td class="entry" valign="top" width="25.510204081632654%" headers="d886149e225 "><samp class="ph codeph" id="pbv4_dev_errors__dev_dest"> DESTROY </samp>
       </td>

       <td class="entry" valign="top" width="74.48979591836735%" headers="d886149e228 ">Published when player is being destroyed. </td>

      </tr>

     </tbody>

    </table>
</div>

  </div>

  <div class="section" id="pbv4_dev_errors__erroreventsubscriptionexpired"><h2 class="title sectiontitle">Working With the Error Event</h2>
    The <samp class="ph codeph">OO.EVENTS.ERROR</samp> event is
   published to the message bus. The <samp class="ph codeph">mb.subscribe</samp> triggers the function you specify
   (the callback function) when an error happens, and the error continues to propagate to other
   subscribers. Use <samp class="ph codeph">mb.subscribe</samp> and handle the error as desired according to any
   existing error-handling functions you might already have in place (such as printing to the
   console, stopping playback, displaying an error screen, etc). In the following example
   illustrating the use of the Message Bus <samp class="ph codeph">subscribe()</samp> method, the callback
   function <samp class="ph codeph">YourErrorHandlingFunctionNameHere</samp> is invoked if the
    <samp class="ph codeph">OO.EVENTS.ERROR</samp> event is published to the message bus:<pre class="pre codeblock">&lt;script&gt;
    function onCreate(player) {

        player.mb.subscribe(
            OO.EVENTS.ERROR,
            'test',
            function(event, payload) {
                YourErrorHandlingFunctionNameHere();
            }
        );
    }

    OO.ready(function() {
        window.pp = OO.Player.create('container', 'YOUR_ASSET_ID', {
            "playerBrandingId": "YOUR_PLAYER_ID",
            "pcode": "YOUR_PCODE",
            skin: {
                config: "url_where_hosted/skin-plugin/skin.json",
            },
            // Include the onCreate() function you defined above in these embedded parameters.
            onCreate: window.onCreate
        });
    });
&lt;/script&gt;</pre>

  </div>

 </div>

 <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../concepts/book_errors.html" title="This guide lists user-facing, programming, event, mobile SDK, and ingestion error messages.">Errors and Error Handling</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../concepts/pbv4_api.html">Player V4 JavaScript API</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a class="link" href="pbv4_dev_pubsub.html" title="You can publish and subscribe to messages for event handling.">Event Publish and Subscribe</a></div>
<div><a class="link" href="../api/pbv4_api_events.html" title="Use message bus events to subscribe to or publish player events from video to ad playback.">Player V4 Message Bus Events</a></div>
</div>
</div>

</body>
</html>