<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Ooyala Player Token Example"/>
<meta name="abstract" content="You obtain a token to authorize playback."/>
<meta name="description" content="You obtain a token to authorize playback."/>
<meta name="DC.Relation" scheme="URI" content="player_v3dev_tokenexpire.html"/>
<meta name="DC.Relation" scheme="URI" content="player_v3dev_authtoken.html"/>
<meta name="DC.Relation" scheme="URI" content="player_v3dev_authtemplate.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="player_v3dev_tokenexample"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Ooyala Player Token Example</title>
</head>
<body id="player_v3dev_tokenexample">


 <h1 class="title topictitle1">Ooyala Player Token Example</h1>

 
 <div class="body conbody"><p class="shortdesc">You obtain a token to authorize playback. </p>

 <div class="section">Once you have crafted an authorization request by using the Ooyala template, you need to
      pass your constructed token request URL to the player via a Javascript callback. The following
      example illustrates how this is done.</div>

  <div class="section"><h2 class="title sectiontitle">Example: Authorize Playback and Obtain a Token</h2>
   <p class="p">In the following example, when the embedded player is loaded, the event triggers the
        communication of the token request URL to the player.  The player then requests
        authorization and a token from the Ooyala authorization server, using the token request.
        Depending on whether the request made justifies playback, either a valid cookie and
        authorized response is returned or an invalid cookie and an unauthorized response is
        returned. </p>

        <p class="p">As you can see in the following example, the “player embedded” event triggers the passing
        of the token request to the player itself. Upon callback and receipt of this event, we send
        a module parameter to the player (an authorization associative array with an <samp class="ph codeph">embedToken</samp>
        field). The value for that field is the token request URL, which the player will
        subsequently use to verify whether affirmative authorization (and a valid token object) is
        appropriate for this user. </p>

   <pre class="pre codeblock">
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
 &lt;meta http-equiv="Content-type" content="text/html; charset=utf-8"&gt;
 &lt;title&gt;PlayerV3 Demo&lt;/title&gt;
 &lt;meta name="viewport" content="width=device-width" /&gt;
 &lt;script src='http://player.ooyala.com/v3/9d92b0c086f74fd1a8ab03ab779e2369
 ?platform=flash-priority&amp;debug=true'&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;div id="playerV3Container" style="background:black;width:640px;
height:480px;"&gt;&lt;/div&gt;&lt;br/&gt;

&lt;script type="text/javascript" charset="utf-8"&gt;
OO.ready(function() {
  window.pp = OO.Player.create('playerV3Container',    
  "1ybDc5NjrqplghUPmO3WR2I61R92vgpo", {
  embedToken :

'http://player.ooyala.com/sas/embed_token/0wcnI6LKT5GqU9sQ9MkK5kuhzAAS/1ybDc5NjrqplghUPmO3WR2I61R92vgpo
?api_key=0wcnI6LKT5GqU9sQ9MkK5kuhzAAS.aKvTv&amp;expires=2350610514
&amp;signature=bnOGfXRayEnGqYOIGqTrwP3cWCPqtJY7cnlLLJJpHhY'
  });
});

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>

  </div>

</div>

  <div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a class="link" href="player_v3dev_tokenexpire.html">Ooyala Player Token Expiration</a></div>
<div><a class="link" href="player_v3dev_authtoken.html" title="You can authorize playback using the Ooyala Player Token. (Available only if your Ooyala account includes this functionality. To enable Ooyala Player Token, contact your account manager.)">Controlling Playback with the Ooyala Player Token</a></div>
<div><a class="link" href="player_v3dev_authtemplate.html" title="Here is how to construct an Ooyala Player Token request.">Constructing the URL Token Request</a></div>
</div>
</div>

</body>
</html>