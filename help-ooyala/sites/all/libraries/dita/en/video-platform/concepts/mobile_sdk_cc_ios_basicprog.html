<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Fundamental Closed Caption Functions on iOS"/>
<meta name="abstract" content="A simple programming example shows the basic functions on iOS to get and set the closed caption (CC) language."/>
<meta name="description" content="A simple programming example shows the basic functions on iOS to get and set the closed caption (CC) language."/>
<meta name="DC.Relation" scheme="URI" content="../concepts/mobile_sdk_ios_cc.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="mobile_sdk_ios_cc"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Fundamental Closed Caption Functions on iOS</title>
</head>
<body id="mobile_sdk_ios_cc">


  <h1 class="title topictitle1">Fundamental Closed Caption Functions on iOS</h1>

  
  <div class="body conbody"><p class="shortdesc">A simple programming example shows the basic functions on iOS to get and set the closed
    caption (CC) language.</p>

    <div class="note note"><span class="notetitle">Note:</span>  Be sure you have setup the required DFXP (now TTML) files for all your videos, as detailed <a class="xref" href="mobile_sdk_cc_basicinbacklot.html#mobile_sdk_ios_cc" title="Learn how to set up closed captions (CC) on mobile devices using Backlot.">Required Closed Caption Setup in Backlot</a>. This simple example shows some
      of the basic function calls for programming with closed captions on iOS:</div>

    <div class="p">
      <ul class="ul" id="mobile_sdk_ios_cc__ol_pjc_zym_1n">
        <li class="li">Shown first here is a check for the
            <samp class="ph codeph">OOOoyalaPlayerCurrentItemChangedNotification</samp> event, which in this
          context indicates that the video and its associated DFXP (now TTML) file have been loaded. (Event
          programming is not required for working with closed captions, but is shown here only as a
          useful feature. If you are interested in more details about event programming, see <a class="xref" href="mobile_sdk_ios_events.html#mobile_sdk_ios_localization" title="You need to listen for event notifications on the player object.">Working with Events</a>.)</li>

        <li class="li">To find out what languages are available for the video, use the
            <samp class="ph codeph">availableClosedCaptionsLanguages</samp> function, which returns an array named
            <samp class="ph codeph">availableLanguages</samp> in this example. </li>

        <li class="li">Then, with the <samp class="ph codeph">closedCaptionsLanguage</samp> function you can actually set
          the desired language. This example checks if English (<samp class="ph codeph">"en"</samp>) is available
          and sets the captions to that language.</li>

      </ul>

    </div>

    <pre class="pre codeblock"> - (void) notificationReceived:(NSNotification*)notification {
  if ([notification.name isEqualToString:<strong class="ph b">OOOoyalaPlayerCurrentItemChangedNotification</strong>]) {
    NSArray* availableLanaguegs = [ooyalaPlayerViewController.player <strong class="ph b">availableClosedCaptionsLanguages</strong>];
    for (NSString *language in availableLanaguegs) {
      if ([language isEqualToString:@"en"]) {
      [ooyalaPlayerViewController.player <strong class="ph b">OOOoyalaPlayerViewController *oopvc = ...;
        oopvc. closedCaptionsLanguage = @"en";</strong>];
      }
    }
    return;
  }
}</pre>


  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="mobile_sdk_ios_cc.html" title="With the Mobile SDK, there are many ways you can work with closed captions, from the most basic features that need no programming to more advanced programming features.">Working with Closed Captions for iOS</a></div>
</div>
</div>

</body>
</html>