<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="How to Export Your Data With the v2 Analytics API (Deprecated)"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Relation" scheme="URI" content="../concepts/analytics_v3_migrating_from_v2.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/chapter_api_setup.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/analytics_v3_migrating_from_v2.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/chapter_analytics.html"/>
<meta name="DC.Relation" scheme="URI" content="../api/analytics_overview.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="ads_integration_overview"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>How to Export Your Data With the v2 Analytics API (Deprecated)</title>
</head>
<body id="ads_integration_overview">


    <h1 class="title topictitle1">How to Export Your Data With the v2 Analytics API (Deprecated) </h1>

    
    <div class="body conbody"><p class="shortdesc"/>

        <div class="section">
            <div class="p">
                <div class="note warning"><span class="warningtitle">Warning:</span> The v2 Analytics API has been deprecated. See <a class="xref" href="ooyala_iq_developer_guide.html">Ooyala IQ Analytics</a> for more details on the
                    new v3 Analytics API.</div>

            </div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Introduction</h2>
            
            <p class="p">The following information will guide you on retrieving and saving your analytics v2
                data. </p>

            <div class="p">As we migrate customers from v2 Analytics to Ooyala IQ (v3 Analytics), you need to
                know the following: <ul class="ul">
                    <li class="li">All customers will have access to reprocessed data starting from January 1,
                        2014. </li>

                    <li class="li">You will continue to have access to the old v2 Analytics API until June 30,
                        2016. </li>

                </ul>
 This means that if you need access to more than 1 year of historical analytics
                data, you need to export the data using the v2 APIs while they are still active. </div>


        </div>

        <div class="section"><h2 class="title sectiontitle">Overview: The Ooyala v2 Analytics API</h2>
            
            <p class="p">With the Ooyala v2 Analytics API you can easily create a report that will provide you
                with your analytics data. The results will be in JSON format. (JSON is a lightweight
                data-interchange format that is easy to read and write.)</p>

            <p class="p">To retrieve analytics results from a specific date range you simply need to define
                the type of result you need with the api call /v2/analytics/reports/, either in a
                terminal emulator such as Terminal on a Mac or in the Ooyala Scratchpad.</p>

            <p class="p"><strong class="ph b">What is an API?</strong></p>

            <p class="p">In computer programming. <strong class="ph b">API (Application Programming Interface)</strong> is the name
                of a set of routines and protocols for software applications. An <strong class="ph b">API</strong>
                expresses a software component in terms of its operations and results.</p>

            <p class="p"><strong class="ph b">Where can I locate my API Credentials?</strong></p>

            <div class="p">You can locate your API Key and Secret in the Backlot UI. Please use your API v2
                credentials located in Backlot under the ACCOUNT&gt;Developers tab. <div class="fig fignone"><span class="figcap">Figure 1. Finding Your API Keys</span>
                    
                    <br/><img class="image" src="../image/find_api_keys.png" height="126" width="424" alt="Locating API Keys"/><br/>
                </div>
</div>

            <p class="p"><strong class="ph b">How Does the API Work?</strong></p>

            <p class="p"> An Ooyala API call requires 4 basic elements: API Key, API Secret, a Signature and
                an Expiration time.</p>

            <p class="p">API calls are made via <a class="xref" href="http://www.w3.org/Protocols/rfc2616/rfc2616.html" target="_blank">HTTP</a> methods. The GET API call is used to
                retrieve data without directly modifying it and allows you to get a typed JSON
                document response based on the id of the object.</p>

            <p class="p"><strong class="ph b">What are the Available Results I can Retrieve with the Ooyala v2 Analytics
                    API?</strong></p>

            <p class="p">On the v2 Analytics API there are 4 key qualifiers that you need to identify in order
                to retrieve your results:</p>

            <p class="p"><strong class="ph b">asset_id</strong>: This value is referred to by different names depending on where you
                look for it. In the Backlot API, asset_id is the identifier for a specific asset.
                asset_id has the same value as the content ID found in the Backlot UI that
                represents a piece of content. The value is the same for all scenarios. asset_id can
                be used if you want to retrieve results for a specific asset. Alternatively, you can
                retrieve results for your account, which would include all of your assets. </p>

            <p class="p"><strong class="ph b">date_range</strong>: Defines the date range for this report. Analytics is based on
                dates. You can define the date following the format (YYYY-MM-DD) or you can define a
                date range with (YYYY-MM-DD...YYYY-MM-DD).</p>

            <p class="p"><strong class="ph b">Report Request</strong>: Defines the type of report you want to retrieve. Valid values
                include <a class="xref" href="../api/analytics_performance.html" title="The asset performance report shows comprehensive performance at the account or asset level.">performance</a>, <a class="xref" href="../api/analytics_sharing.html" title="The sharing report shows the number of share actions (e.g., Facebook, Twitter) for all content within your account or for an individual asset.">sharing</a>, <a class="xref" href="../api/analytics_engagement.html" title="The engagement report displays the number of viewers as a video plays, which enables you to locate points where viewers lose interest, discover the effects of advertising placement, and assess its overall effectiveness.">engagement</a>, and <a class="xref" href="../archive/analytics_delivery.html" title="The delivery report returns the number of VOD bytes delivered for all content within your account or for an individual asset. The delivery API has been migrated to the Usage REST API.">delivery</a>.</p>

            <p class="p"><strong class="ph b">Dimension</strong>: Dimensions are common criteria that are used to aggregate data,
                such as the date when the user activity occurred or the country where the users were
                located. Every Dimension also has “<strong class="ph b">Drilldowns</strong>”, which allow you to filter
                your results by specific values for each dimension. </p>

            <p class="p">Common query string parameters and attributes can be found at <a class="xref" href="../api/analytics_attributes_and_parms.html" title="These attributes and query string parameters are used by the Analytics routes.">Common Attributes and Query String Parameters (Deprecated)</a>. </p>

        </div>

        <div class="section"><h2 class="title sectiontitle">How to Retrieve Your v2 Analytics Data</h2>
            
            <p class="p"><strong class="ph b">What is the API Call Format?</strong></p>

            <p class="p">The v2 Analytics API follows a specific order on the body of the API.</p>

            <p class="p">For example, the API call:
                    <samp class="ph codeph">/v2/analytics/reports/account/performance/[:dimension/:drilldown]/:date_range</samp></p>

            <div class="p">Should appear like the following if you want to get a performance report from
                2011-01-01 to 2014-01-01: <div class="fig fignone"><span class="figcap">Figure 2. API Call For Performance Report</span>
                    
                    <br/><img class="image" src="../image/API_call.png" height="35" width="372" alt="Sample API Call"/><br/>
                </div>

            </div>

            <p class="p"><strong class="ph b">How Can I Use the Scratchpad to Save Reports?</strong></p>

            <p class="p">The Scratchpad is a tool created by Ooyala that allows you to make API queries in
                your browser.</p>

            <div class="p">To retrieve an analytics report with the Scratchpad: <ol class="ol">
                <li class="li">Go to <span class="ph">Ooyala <a class="xref" href="https://api.ooyala.com/docs/api_scratchpad" target="_blank">API Scratchpad</a></span>.</li>

                    <li class="li">Select “Your Account” in the Credentials section in the upper right corner
                        of the page.</li>

                    <li class="li">Enter your v2 API credentials (API Key and Secret) in the Credentials
                        section in the upper right corner of the page. </li>

                    <li class="li">In the Query field located on the left side of the page, enter your
                        Analytics query. For example, if you would like to get the performance
                        report from 2011 to 2014, copy and paste this query:
                            <samp class="ph codeph">/v2/analytics/reports/account/performance/total/2011-01-01...2014-01-01</samp></li>

                    <li class="li">Select GET.</li>

                    <li class="li">Click Submit. <div class="note note"><span class="notetitle">Note:</span> Your response appears in the response field.</div>

                    </li>

                    <li class="li">If you prefer to see your results in a larger browser window, copy the API
                        URL shown in green above the Submit button into your browser. In this case,
                        the URL would be <a class="xref" href="https://api.ooyala.com/v2/analytics/reports/account/performance/total/2011-01-01...2014-01-01?api_key=yourApiKey&amp;signature=yourSignature&amp;expires=1418771221">https://api.ooyala.com/v2/analytics/reports/account/performance/total/2011-01-01...2014-01-01?api_key=yourApiKey&amp;signature=yourSignature&amp;expires=1418771221</a>. </li>

                    <li class="li">Save the JSON by selecting File &gt; Save As… in your browser. For information
                        on how to convert JSON to CSV, see <a class="xref" href="../tasks/api_analytics_convert_to_csv.html" title="With the Backlot UI you can download data in comma-separated value (CSV) format. Here is a general approach for doing this programmatically.">Converting Analytics JSON to CSV (Deprecated)</a>
                    </li>

                </ol>
</div>

            <p class="p"><strong class="ph b">Additional Query Examples</strong></p>

            <div class="p">For more details on how to form queries in Scratchpad and for specific analytics
                report types, see: <ul class="ul">
                    <li class="li"><a class="xref" href="../api/analytics_performance.html" title="The asset performance report shows comprehensive performance at the account or asset level.">Performance</a> query examples</li>

                    <li class="li"><a class="xref" href="../api/analytics_sharing.html" title="The sharing report shows the number of share actions (e.g., Facebook, Twitter) for all content within your account or for an individual asset.">Sharing</a> query
                        examples</li>

                    <li class="li"><a class="xref" href="../api/analytics_engagement.html" title="The engagement report displays the number of viewers as a video plays, which enables you to locate points where viewers lose interest, discover the effects of advertising placement, and assess its overall effectiveness.">Engagement</a>
                        query examples</li>

                    <li class="li"><a class="xref" href="../archive/analytics_delivery.html" title="The delivery report returns the number of VOD bytes delivered for all content within your account or for an individual asset. The delivery API has been migrated to the Usage REST API.">Delivery</a>
                        query examples</li>

                </ul>
</div>

                <div class="note note"><span class="notetitle">Note:</span> To retrieve all data for a report type for your account, use the “total” query
                    string parameter. You can find examples using “total” in each of the query
                    example links mentioned above. “total” is used to retrieve all data for that
                    particular report type for your account.</div>
 <div class="p">For example, the following query
                        retrieves all performance data for the account over the date range
                        2011-08-01...2011-08-02. 
                    <pre class="pre codeblock">[GET]/v2/analytics/reports/account/performance/<strong class="ph b">total</strong>/2011-08-01...2011-08-02</pre>
</div>

              
            
            <p class="p"><strong class="ph b">How can I Create my own API Report?</strong></p>

            <p class="p">You should only create your own API script if you are comfortable with the Ooyala API
                and have created scripts before or if you have the technical resources available who
                can modify the pre-made query to retrieve the data for you. </p>

            <div class="p">If you check the following snippet from our <a class="xref" href="../tasks/api_signing_requests_appendix.html" title="Here is a collection of sample code in various programming languages for signing your requests.">sample
                    code</a> that shows a terminal, you will be able to identify that we send the
                request of the API call using <a class="xref" href="http://curl.haxx.se/" target="_blank">cURL</a>. cURL makes http request where you can modify the
                parameters and the headers. <div class="fig fignone"><span class="figcap">Figure 3. Sample API Report</span>
                    
                    <br/><img class="image" src="../image/sample_api_report.png" height="217" width="523" alt="API Report"/><br/>
                </div>

            </div>

            <div class="note note"><span class="notetitle">Note:</span> For more script examples, please check our support site documentation at <a class="xref" href="../tasks/api_signing_requests_appendix.html" title="Here is a collection of sample code in various programming languages for signing your requests.">Sample Code for Signing Requests</a>. </div>

        </div>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="analytics_v3_migrating_from_v2.html" title="Here are some considerations for when you migrate from v2 Analytics to v3 Analytics (Ooyala IQ).">Migrating from v2 Analytics (Deprecated)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="chapter_api_setup.html" title="Ooyala provides a REST-based interface that enables you to make requests to the Backlot platform.">Using the Backlot REST API</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="chapter_analytics.html" title="Ooyala had the basic analytics feature of retrieving data with the v2 Analytics API.">v2 Analytics (Deprecated)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../api/analytics_overview.html" title="Based on your account, different analytics packages are available.">v2 Analytics API (Deprecated)</a></div>
</div>
</div>

</body>
</html>