<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Hook Mobile Player App (Deprecated)"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="hookMobilePlayerApp.d0e3"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Hook Mobile Player App (Deprecated)</title>
</head>
<body id="hookMobilePlayerApp.d0e3">


   <h1 class="title topictitle1">Hook Mobile Player App (Deprecated)</h1>

         <div class="body conbody"><div class="note note"><span class="notetitle">Note:</span>  The <a class="xref" href="hook.html">Hook Mobile Player App (Deprecated)</a> has been deprecated and is
    scheduled to be disabled. For details and alternatives, see the <a class="xref" href="../relnotes/2017-06-04.html">OVP Release Notes</a>.</div>

      <p class="p">Ooyala offers a flexible media player application designed specifically for the needs of
         mobile platforms. The Ooyala Hook media player enables publishers to deliver live, linear,
         and premium VOD content not possible on current mobile web platforms without the
         significant cost and lengthy time to market that is required to build custom video-centric
         apps. </p>

      <p class="p">With Hook, you don’t need to create and maintain a mobile player app that works across a
         variety of Android devices. Hook does that for you. The Ooyala Hook mobile player app
         supports all of the following features:</p>

      <div class="p">
         <ol class="ol" id="hookMobilePlayerApp.d0e3__ol_asv_kd4_yk">
            <li class="li">Live/linear content</li>

            <li class="li">ABR</li>

            <li class="li">Closed Captions for VOD and Live</li>

            <li class="li">Client-side Pre-roll, Mid-roll and Post-roll ad insertion</li>

            <li class="li">Full Ooyala analytics</li>

            <li class="li">Takedown security via AuthToken validation</li>

         </ol>

      </div>

      <p class="p"><strong class="ph b">Publishers</strong></p>

      <p class="p">For publishers, Hook:</p>

      <ul class="ul">
         <li class="li">Enables playback of premium content on Android devices without having to build an
            app.</li>

         <li class="li">Can build (mobile) HTML5 website as they normally would. Playback happens seamlessly in
            the Hook app. </li>

      </ul>

      <p class="p"><strong class="ph b">Consumers</strong>
      </p>

      <p class="p">With the Hook mobile app, consumers can take advantage of the following:</p>

      <ul class="ul">
         <li class="li">Download the app once per device.</li>

         <li class="li">After initial download, playback works across any Hook-enabled website.</li>

         <li class="li">Ooyala-powered publishers does not require additional downloads. </li>

         <li class="li">Go to or load your website with a player, it will look like a normal HTML5-based video
            player.  </li>

      </ul>

      <p class="p">It’s easy to get started. You can enable Hook on a website with our basic setup and then
         use the API to provide a more customized experience for your customers. </p>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__whereItWorks.d0e78"><h2 class="title sectiontitle">Where it Works</h2>
         
         <p class="p">Hook supports the following embed types and devices.</p>

         
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
               
               
               
               <thead class="thead" align="left">
                  <tr class="row">
                     <th class="entry" valign="top" id="d311042e117">
                        <p class="p"> Embed Types</p>

                     </th>

                     <th class="entry" valign="top" id="d311042e123">
                        <p class="p"> Devices</p>

                     </th>

                     <th class="entry" valign="top" id="d311042e129">Exceptions</th>

                  </tr>

               </thead>

               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top" headers="d311042e117 ">
                        <p class="p"> Player V3</p>

                     </td>

                     <td class="entry" valign="top" headers="d311042e123 ">
                        <p class="p">Android 2.3+ devices using an HTML5 player. </p>

                     </td>

                     <td class="entry" valign="top" headers="d311042e129 ">
                        <p class="p">Certain exceptions can make a device incompatible with Hook. Exceptions
                           can include: </p>

                        <ul class="ul" id="hookMobilePlayerApp.d0e3__ul_elk_3wd_ql">
                           <li class="li">
                              <p class="p">Devices with Android side-loaded such as the Nook or Kindle
                                 tablets. This can prevent Hook from working on a particular Android
                                 version (such as 3.X on these tablets).</p>

                           </li>

                           <li class="li">
                              <p class="p">Placing the player in an iframe. See the topic "iframe
                                 Restrictions" in later in this document.</p>

                           </li>

                        </ul>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__settingUpHook.d0e186"><h2 class="title sectiontitle">Setting Up Hook</h2>
         
         <p class="p">To get Hook to run on your website:</p>

         <ol class="ol">
            <li class="li">Configure a movie to play using this player. Embed this movie as normal in a mobile
               phone accessible website. <p class="p"><strong class="ph b">Note: </strong>This will only work if you have streams capable of
                  playing on Android devices.</p>
</li>

            <li class="li">Provide a Backlot username and website URL to your Ooyala Customer Success Manager
               for the required provider attribute. For more information, see the following
                  topics:<ol class="ol" type="a" id="hookMobilePlayerApp.d0e3__ol_tvd_gh4_yk">
                  <li class="li">
                     <a class="xref" href="#hookMobilePlayerApp.d0e3__settingProviderAttributes.d0e533">Setting Provider Attributes</a></li>

                  <li class="li"><a class="xref" href="#hookMobilePlayerApp.d0e3__launchingHookFromADifferentApplication.d0e564">Launching Hook from a Different Application</a>.</li>

               </ol>
</li>

            <li class="li">In your code, the embed script  has a URL in the form of: </li>

         </ol>

         <pre class="pre codeblock"> &lt;script src="http://player.ooyala.com/v3/player_id”&gt; &lt;script&gt;</pre>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__playingContentWithHook.d0e243"><h2 class="title sectiontitle">Playing Content With Hook</h2>
         
         <p class="p">With Hook, users will see a website that loads the HTML5-based video player.  When the
            user presses play, the website does one of the following:</p>

         <ol class="ol">
            <li class="li"><strong class="ph b">If the Hook app is installed</strong>, the app automatically opens and starts
               playback.</li>

            <li class="li"><strong class="ph b">If the Hook app is not installed</strong>, the website opens a dialog box and prompts
               the user to install the app by providing the options listed in the following
               table.</li>

         </ol>

         
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
               <thead class="thead" align="left">
                  <tr class="row">
                     <th class="entry" valign="top" id="d311042e248">
                        <p class="p"> If the user clicks...</p>

                     </th>

                     <th class="entry" valign="top" id="d311042e254">
                        <p class="p"> then..</p>

                     </th>

                  </tr>

               </thead>

               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top" headers="d311042e248 d311042e254 ">
                        <p class="p"> Show me where to download,</p>

                     </td>

                     <td class="entry" valign="top" headers="d311042e248 d311042e254 ">
                        <p class="p">the user will be taken to the Google Play store page.</p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top" headers="d311042e248 d311042e254 ">
                        <p class="p"> Remind me later,</p>

                     </td>

                     <td class="entry" valign="top" headers="d311042e248 d311042e254 ">
                        <p class="p">the dialog box will close and page will remain accessible to the
                           user.</p>

                     </td>

                  </tr>

                  <tr class="row">
                     <td class="entry" valign="top" headers="d311042e248 d311042e254 ">
                        <p class="p"> I already have it,</p>

                     </td>

                     <td class="entry" valign="top" headers="d311042e248 d311042e254 ">
                        <p class="p">we assume the app was installed, but not detected, and we try to open the
                           app.</p>

                        <p class="p"><strong class="ph b">Note: </strong>Users might click, “I have the app,” but actually do not. To deal with
                           this situation we strongly recommend having a “Download Hook here!” link,
                           that directs the user to
                           <samp class="ph codeph">market://com.ooyala.hooktv.hook</samp>.</p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__customizingTheHookAppExperience.d0e364"><h2 class="title sectiontitle">Customizing the Hook App Experience</h2>
         
         <p class="p">You can create some custom behavior for the Hook app to perform when the user clicks the
            “Play” button on an Android device. The website developer can perform any action on the
            click of the Play button. However, you must keep in mind the following guideline:</p>

         
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
               <tbody class="tbody">
                  <tr class="row">
                     <td class="entry" valign="top">
                        <p class="p"> Do <strong class="ph b">NOT</strong> create your “on play” customization by listening to Player
                           events.  </p>

                     </td>

                  </tr>

               </tbody>

            </table>
</div>

         <p class="p">If you decide to customize the on play behavior, you must also code your own application
            detection algorithm. Your will need to make your own code check if the Hook app is
            installed and code the appropriate behaviors, if it is not installed.</p>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__domainRestrictions.d0e396"><h2 class="title sectiontitle">Domain Restrictions</h2>
         
         <p class="p">If you are applying domain restrictions to a video or set of videos or to a live stream,
            to use Hook with that asset, you'll need to enable www.ooyala.com as an available
            domain.  For more information on setting domain restrictions through publishing rules,
            see <a class="xref" href="../tasks/api_publishing_rules_create.html#api_publishing_rules_create" title="You can create as many publishing rules as you like and assign them to videos, channels, or channel sets. During playback, the most restrictive rule as applied.">.</a></p>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__iframeRestrictions.d0e396"><h2 class="title sectiontitle">iframe Restrictions</h2>
         
         <p class="p">If you want to launch Hook from the Ooyala player, you cannot place the player in an
            iframe. If the player is in an iframe, Hook does not launch. For more information about
            iframe, see <a class="xref" href="../reference/player_v3_dev_iframe_nonwindows.html#player_v3_iframe" title="Using a special page from Ooyala, you can embed your player in an iframe.">Embedding the Player in an HTML iframe</a>.</p>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__overridingDefaultOnPlayBehavior.d0e396"><h2 class="title sectiontitle">Overriding Default On Play Behavior</h2>
         
         <p class="p">To customize the on play behavior, Hook offers an exposed method called
                  <samp class="ph codeph">OO.Hook.useAppDialog(<var class="keyword varname">function</var>)</samp> that takes in a
            function name. The <samp class="ph codeph">useAppDialog</samp> will override our default behavior by
            calling your supplied function.</p>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__exampleChangeDefaultPlayBehavior.d0e409"><h2 class="title sectiontitle">Example: Change
            Default Play Behavior</h2><p class="p">The following example shows how you can insert the
               <samp class="ph codeph">useAppDialog</samp> method to include a custom function to change the on
            play
         behavior.</p>
<pre class="pre codeblock">&lt;script src="http://player.ooyala.com/v3/..."&gt;          
&lt;script&gt;                 
function customAppDialog(e, pcode, embedCode, token) {                 
    alert("This is a custom function");                
}                 
OO.Hook.useAppDialog(customAppDialog);             
OO.ready(function() { … Player creation code here … }             
&lt;script&gt;                                </pre>
In
         this example:<ol class="ol">
            <li class="li">We created the custom function: <samp class="ph codeph">function
                     customAppDialog(<var class="keyword varname">e</var>, <var class="keyword varname">pcode</var>,
                     <var class="keyword varname">embedCode</var>, <var class="keyword varname">token</var>)</samp>. </li>

            <li class="li">We then called it with the useAppDialog method.</li>

         </ol>
<p class="p">When you create and define this function, you can name it whatever you
            want.</p>
<p class="p"> To open the app yourself, you change the website to a URL in the form of:
               </p>
<p class="p"><samp class="ph codeph">ooyala://&lt;provider_code&gt;/&lt;content_id&gt;</samp></p>
<p class="p">Or if
            you have a playback token, use:
               </p>
<p class="p"><samp class="ph codeph">ooyala://&lt;provider_code&gt;/&lt;content_id&gt;/&lt;playback_token&gt;</samp></p>
</div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__customizationApi.d0e491"><h2 class="title sectiontitle">Customization API</h2>
         
         <p class="p">To assist you in customizing the Hook on play experience, Ooyala provides a
            customization API. This Hook API exposes the following methods:</p>

         <dl class="dl">
            
               <dt class="dt dlterm"><samp class="ph codeph">string OO.Hook.useAppDialog(<var class="keyword varname">function</var>)</samp></dt>

               <dd class="dd">Takes in a function name.  <samp class="ph codeph">useAppDialog</samp> will override the Ooyala
                  app’s default behavior by calling your supplied function.</dd>

            
            
               <dt class="dt dlterm"><samp class="ph codeph">void OO.Hook.launchApp(pcode, embed, token =
                        null),{initialTime:<em class="ph i">time_in_seconds</em>}); </samp></dt>

               <dd class="dd">Launches App, and sets cookie to never show dialog box again. Includes an
                  optional <span class="keyword parmname">initialTime</span> parameter to specify a time offset in
                  the video. </dd>

               <dd class="dd">Specify the time in seconds.</dd>

            
            
               <dt class="dt dlterm"><samp class="ph codeph">void OO.Hook.launchMarket();</samp></dt>

               <dd class="dd">Load the market page for the Ooyala media player</dd>

            
            
               <dt class="dt dlterm"><samp class="ph codeph">string OO.Hook.getUrl(pcode, embedCode, token =
                        null),{initialTime:<em class="ph i">time_in_seconds</em>});</samp></dt>

               <dd class="dd">Provides the URL required to open the Hook app.  Includes an optional
                     <span class="keyword parmname">initialTime</span> parameter to specify a time offset in the
                  video. Specify the time in seconds.</dd>

            
         </dl>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__settingProviderAttributes.d0e533"><h2 class="title sectiontitle">Setting Provider Attributes</h2>
         
         <p class="p">Ooyala can set additional configuration options, in the form of provider attributes,
            that enable you to modify the behavior of Hook. The following is a list of these
            provider attributes:</p>

         <dl class="dl">
            
               <dt class="dt dlterm"><samp class="ph codeph">hook_user = &lt;backlot-username&gt;</samp></dt>

               <dd class="dd">Required - This is a username of a user who will be used for all start screen
                  request signing.</dd>

            
            
               <dt class="dt dlterm"><samp class="ph codeph">hook_default_url = &lt;company_website&gt;</samp></dt>

               <dd class="dd">Required - Defines a URL that users can be directed to from the start screen</dd>

            
            
               <dt class="dt dlterm"><samp class="ph codeph">hook_opt_out = true|false</samp></dt>

               <dd class="dd">Optional: enables or disables the provider to show up on the Hook Start
                  Screen.</dd>

            
            <dt class="dt dlterm"><samp class="ph codeph">ad_frequency = N</samp></dt>

            <dd class="dd">Ad frequency settings are not support with Hook.</dd>

            
         </dl>

      </div>

      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__launchingHookFromADifferentApplication.d0e564"><h2 class="title sectiontitle">Launching Hook from a Different Application</h2>
         
         <p class="p">You can launch Hook from a different application by coding an Android <a class="xref" href="http://developer.android.com/reference/android/content/Intent.html" target="_blank">Intent</a>. In the following example, we created a
            new Intent and gave it a URI using the format described in the prior section, <a class="xref" href="#hookMobilePlayerApp.d0e3__settingProviderAttributes.d0e533">Setting Provider Attributes</a>. </p>

         <pre class="pre codeblock">public class MainActivity extends Activity {
  @Override  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
                  
  Intent launchHook = new Intent(Intent.ACTION_VIEW, Uri.parse(&lt;"ooyala://pcode/embed code"&gt;));
    startActivity(launchHook);
  }
}            </pre>

<div class="p"><strong class="ph b">Note: </strong>You can get your pcode (provider code) and your embed code from Backlot. To get the embed
            code, see the Backlot topic <a class="xref" href="../tasks/publishing_manual_embed.html">Configuring Player Embed Settings in Backlot</a>. To get your pcode: <ol class="ol" id="hookMobilePlayerApp.d0e3__ol_rnc_bpq_3k">
               <li class="li">Log into your Backlot account.</li>

               <li class="li">Click on the Account tab.</li>

               <li class="li">Click on the Developers subtab.</li>

               <li class="li">Find your API Key. The API key has the following format:
                  &lt;pcode&gt;.&lt;string&gt;. The pcode is the alphanumeric string before the
                  period. For example for API Key:
                     <samp class="ph codeph">ABC123xOuTldXc1CiXbzAauYN7Iui.SMqJ</samp>, the segment
                     <samp class="ph codeph">"ABC123xOuTldXc1CiXbzAauYN7Iui"</samp> is your pcode.  For details,
                  see <a class="xref" href="api_keys.html" title="Your Ooyala API credentials include your API key and secret, which you provide to sign HTTP requests and when using the scratchpad.">Your API Credentials</a>.</li>

            </ol>
</div>

      </div>


      <div class="section" xml:lang="en-us" lang="en-us" id="hookMobilePlayerApp.d0e3__launchingHookWithoutApp.d0e564"><h2 class="title sectiontitle">Troubleshooting a Launch of Hook Without the App</h2>You have additional options for
         launching the Hook app and can specify a time offset into the video. The Hook API includes
         an <span class="keyword parmname">initialTime</span> parameter that you can use to specify in seconds how
         much time into the video where you want it to begin at launch. The following examples show
         the additional ways you can launch the Hook app and include the use of the
            <span class="keyword parmname">initialTime</span> parameter. <p class="p"><strong class="ph b">Note: </strong>In all of the following
            examples, the use of the <span class="keyword parmname">initialTime</span> parameter is optional. You can
            launch the Hook app without it.</p>
<p class="p"><strong class="ph b">Launch Hook from Another App with a Time
               Offset</strong></p>
<p class="p">In the following example, you can see that we use similar code for
            launching Hook from a different application (such as an app you create with our Android
            SDK). We added <samp class="ph codeph">time_in_seconds</samp> to specify the point in the video to
            start the app. While use of a time offset is optional, to use
               <samp class="ph codeph">time_in_seconds</samp> the third section must have a valid token or the
            string "null". In the following example we use <samp class="ph codeph">/null/</samp> instead of a
            valid
               token.</p>
<pre class="pre codeblock">public class MainActivity extends Activity {
  @Override  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
                  
  Intent launchHook = new Intent(Intent.ACTION_VIEW, Uri.parse
  (&lt;"ooyala://pcode/embed code/null/time_in_seconds"&gt;));
    startActivity(launchHook);
  }
}            </pre>
<p class="p"><strong class="ph b">Launch
               Hook with the LaunchApp Event in JavaScript</strong></p>
<p class="p">You can launch the Hook app and
            set the initial time offset using the <span class="keyword apiname">launchApp</span> event in JavaScript
            for the V3
               Player.</p>
<pre class="pre codeblock">void OO.Hook.launchApp(pcode, embed, token = null, {initialTime:time_in_seconds}); </pre>
<p class="p"><strong class="ph b">Launch
               Hook with a Custom URI and an Initial Time</strong></p>
<p class="p">You have the option of launching
            the Hook app with a custom URI and an initial time offset. As with the other options for
            launching Hook, you can use this method with or without the
               <span class="keyword parmname">initialTime</span> parameter. Using this option with the initialTime
            parameter is particularly useful if you want to use Hook with Cross-Device Resume.
               </p>
<pre class="pre codeblock">ooyala://&lt;provider_code&gt;/&lt;content_id&gt;
ooyala://&lt;provider_code&gt;/&lt;content_id&gt;/&lt;playback_token&gt;
ooyala://&lt;provider_code&gt;/&lt;content_id&gt;/&lt;playback_token&gt;/initial_time_in_seconds</pre>
<p class="p"><strong class="ph b">Note:
            </strong>For information about using Cross-Device Resume, see <a class="xref" href="player_v3_dev_xdintro.html#player_v3_dev_winintro" title="The Ooyala Player includes support for Cross-Device Resume (XDR) that enables you to provide a seamless video experience across multiple devices.">"Player for
               Cross Device Resume"</a>.</p>
<p class="p"><strong class="ph b">Setting initialTime with Hook and Cross Device
               Resume (XDR)</strong></p>
<p class="p">The following JavaScript code snippets show how you can use
            the <span class="keyword parmname">initialTime</span> parameter with Hook and Cross Device Resume.
            </p>
<p class="p">Sample using XDR on <span class="keyword apiname">OO.Player.create</span>, initial time of 10
            seconds (equivalent to 10000 milliseconds): </p>
<pre class="pre codeblock"> &lt;script&gt;var videoPlayer = OO.Player.create('playerwrapper','123FAKETqRxdXHR8ciA09BLMrKx73zwJ', {
       initialTime: 10
     });
 &lt;/script&gt; </pre>
 Sample using XDR on <span class="keyword apiname">OO.Hook.launchApp</span>, initial time of
         10 seconds (equivalent to 10000 milliseconds): <pre class="pre codeblock">&lt;script&gt;
   document.getElementById("hook_button").addEventListener("click", function(){
     OO.Hook.launchApp("5zb2wxOlZcNCe_HVT3a6cawW298X", "tndWV3ZTqRxdXHR8ciA09BLMrKx73zwJ", null, {initialTime: 10000});
   })
 &lt;/script&gt;</pre>
<div class="p">You may
            have a case where you have developed an app for use with Hook and the user tries to
            launch the app without having downloaded and installed the Hook app. In this case, your
            code will throw an exception.  An Intent will fail if there is no application to receive
            it.  Intents do not automatically redirect to the app store.  To fix this case, you need
            to implement a try/catch for the exception and redirect the user to the link where they
            can download the app: <ol class="ol" id="hookMobilePlayerApp.d0e3__ol_ssy_4b4_yk">
               <li class="li"><samp class="ph codeph"><a class="xref" href="https://play.google.com/store/apps/details?id=com.hooktv.hook" target="_blank">
                        https://play.google.com/store/apps/details?id=com.hooktv.hook&amp;hl=en</a>
                  </samp></li>

               <li class="li"><samp class="ph codeph">market://com.hooktv.hook</samp> where <samp class="ph codeph">market</samp> is the
                  provider URL</li>

            </ol>
</div>

      </div>

   </div>


</body>
</html>