<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Adobe Analytics (Omniture) Plugin"/>
<meta name="DC.Relation" scheme="URI" content="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_js_players.html"/>
<meta name="DC.Relation" scheme="URI" content="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html"/>
<meta name="DC.Relation" scheme="URI" content="https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="pbv4_analytics_omniture"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Adobe Analytics (Omniture) Plugin</title>
</head>
<body id="pbv4_analytics_omniture">


    <h1 class="title topictitle1">Adobe Analytics (Omniture) Plugin</h1>

    <div class="body conbody">
        <div class="section">
            Use the Player V4 Adobe Analytics plugin (<samp class="ph codeph">omniture.min.js</samp>) to track Adobe Marketing
                Cloud analytics for your V4 Ooyala Player. This integration uses the Adobe Heartbeat
                SDK to publish video-related events, such as video plays, quartile video completion
                rates, and content metadata to your instance of Adobe Marketing Cloud. 
        </div>

        <div class="section"><h2 class="title sectiontitle">Run-time Flow During Playback</h2>During playback, a playback event
            triggers notification about the event to the Adobe Marketing Cloud. <div class="fig fignone">
                <img class="image" src="../image/pbv4_analytics_adobe.png"/>
            </div>
</div>

        <div class="section"><h2 class="title sectiontitle">Required Adobe Plugins</h2>
            <p class="p">To use the Player V4 Adobe Analytics plugin (omniture.min.js), you must load several Adobe plugins related to the Adobe Heartbeat SDK.</p>

            <ul class="ul"><li class="li"><strong class="ph b">VideoHeartbeat.min.js</strong> is the main library that gathers analytics for video playback.</li>

                <li class="li"><strong class="ph b">AppMeasurement.js</strong> and <strong class="ph b">VisitorAPI.js</strong> send account and tracking information to the Video Heartbeat SDK.</li>
</ul>

            <div class="p">For more details on what these plugins do, go to:
                <ul class="ul">
                   <li class="li"><a class="xref" href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html</a></li>

                   <li class="li"><a class="xref" href="https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html</a></li>

                </ul>
</div>

        </div>
 
        <div class="section"><h2 class="title sectiontitle">Supported Players</h2>
            
            <p class="p">For this release, the Player V4 Adobe Analytics plugin supports integrating Adobe
                Analytics with the Ooyala HTML5 web player versions 4.4.8 and above.</p>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">Prerequisites</h2>
            
            <div class="p">Prior to using the Player V4 Adobe Analytics plugin you must contact your Adobe
                representative and request the following account information for your integration
                with Ooyala Player V4: <ul class="ul">
                    <li class="li">Report Suite ID</li>

                    <li class="li">Tracking Server</li>

                    <li class="li">Marketing Cloud Organization ID</li>

                    <li class="li">Publisher ID</li>

                </ul>
 You will pass this information to Ooyala along with other player parameters. </div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Step 1: Get the Adobe Analytics Plugins</h2>
            
            <div class="note note"><span class="notetitle">Note:</span> This applies only if you are self-hosting player resources, as described in <a class="xref" href="pbv4_host.html">Hosting Player V4 Resources</a>.</div>

            <ol class="ol">
                <li class="li">Download the latest version of the following plugins. For the download URLs, see
                    the <a class="xref" href="pbv4_release_notes.html">Ooyala Player V4 Release Notes</a>. <ul class="ul">
                        <li class="li"><samp class="ph codeph">VideoHeartbeat.min.js</samp></li>

                        <li class="li"><samp class="ph codeph">AppMeasurement.js</samp></li>

                        <li class="li"><samp class="ph codeph">VisitorAPI.js</samp></li>

                        <li class="li"><samp class="ph codeph">omniture.min.js</samp></li>

                    </ul>
</li>

                <li class="li">Host the above plugins as described in <a class="xref" href="pbv4_host.html">Hosting Player V4 Resources</a>.</li>

            </ol>

        </div>

        <div class="section"><h2 class="title sectiontitle">Step 2: Load the Plugin Scripts</h2>On the page where you want to run the
            player, add the following scripts: <ul class="ul">
                <li class="li"><samp class="ph codeph">VideoHeartbeat.min.js</samp> is the main Adobe Heartbeat library that
                    gathers analytics for video playback.</li>

                <li class="li"><samp class="ph codeph">AppMeasurement.js</samp> and <samp class="ph codeph">VisitorAPI.js</samp> send
                    account and tracking information to the Video Heartbeat SDK.</li>

                <li class="li"><samp class="ph codeph">omniture.min.js</samp> must be loaded last.</li>

            </ul>
Be sure to load all of these plugins <em class="ph i">after</em> you load
                <samp class="ph codeph">core.min.js</samp>, and in the order specified. <div class="note note"><span class="notetitle">Note:</span> <span class="ph">Wherever you see <samp class="ph codeph"><span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span></samp> in sample code, replace
    this (in your code) with the URL that points to where the resource is hosted. For a list of
    Ooyala-hosted paths, see <a class="xref" href="pbv4_resources.html">Ooyala-hosted Player V4 Resources</a>. The URL can point to a location on the same host (internal link) or on
    a separate host (prefixed with <samp class="ph codeph">http://</samp> or <samp class="ph codeph">https://</samp>). If you
    host resources yourself (see <a class="xref" href="pbv4_host.html">Hosting Player V4 Resources</a>), be sure to
    check for any path dependencies within the files.</span></div>
<pre class="pre codeblock">&lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/VideoHeartbeat.min.js"&gt;&lt;/script&gt;
&lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/AppMeasurement.js"&gt;&lt;/script&gt;
&lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/VisitorAPI.js"&gt;&lt;/script&gt;
&lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/omniture.min.js"&gt;&lt;/script&gt;                 </pre>
</div>

        <div class="section"><h2 class="title sectiontitle">Step 3: Specify Page-level Parameters</h2>As with other Player V4
            plugins, on the page where you want to run the player, you can specify page-level
            parameters within the <span class="keyword parmname">playerparams</span> variable that is passed in
            during player creation (see <a class="xref" href="../api/pbv4_api_embedparams.html">Page-level Parameters for Player V4</a>).
                    <p class="p"><strong class="ph b">Required Parameters</strong></p>
 Specify the following <strong class="ph b">required</strong>
            page-level parameters as a child of the <samp class="ph codeph">omniture</samp> parameter. You will
            need to get the values of these parameters from your Adobe representative. Go to the
            following Adobe topic for details: <a class="xref" href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html" target="_blank">Implement the Marketing Cloud ID Service
                for Analytics</a>. 
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="1" id="d438486e260">Parameter</th>

                            <th class="entry" valign="top" width="3" id="d438486e263">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">marketingCloudOrgId</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Your Adobe Marketing Cloud Organization ID. Go to <a class="xref" href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-requirements.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-requirements.html</a> for details.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">visitorTrackingServer</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Your standard or secure tracking server domain (without the
                                "http" or "https" prefix).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">appMeasurementTrackingServer</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Your standard or secure tracking server domain (without the
                                "http" or "https" prefix).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">reportSuiteId</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">The report suite or report suites (multi-suite tagging) that you
                                wish to track.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">heartbeatTrackingServer</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Your standard or secure tracking server domain (without the
                                "http" or "https" prefix).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">publisherId</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Your publisher ID.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">pageName</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Specify a name for your page.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e260 "><samp class="ph codeph">visitorId</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e263 ">Unique identifier for each visitor.</td>

                        </tr>

                    </tbody>

                </table>
</div>
<p class="p"><strong class="ph b">Optional Parameters</strong></p>
 Specify the following optional page-level
            parameters. You can get the values of these parameters from your Adobe representative.
            Go to <a class="xref" href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html</a> for additional details. 
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="1" id="d438486e377">Parameter</th>

                            <th class="entry" valign="top" width="3" id="d438486e380">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e377 "><samp class="ph codeph">debug</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e380 ">Enable (YES) or disable (NO) debugging information.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e377 "><samp class="ph codeph">channel</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e380 ">Specify a name for your channel.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e377 "><samp class="ph codeph">props</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e380 ">Traffic variables you can use to report on custom dimensions.
                                Keys in props must be of the form "prop#". Go to <a class="xref" href="https://marketing.adobe.com/resources/help/en_US/sc/implement/props_vs_eVars.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/sc/implement/props_vs_eVars.html</a> for
                                details.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e377 "><samp class="ph codeph">eVars</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e380 ">Conversion variables you can use to report on custom dimensions.
                                Keys in eVars must be of the form "eVar#". Go to <a class="xref" href="https://marketing.adobe.com/resources/help/en_US/sc/implement/props_vs_eVars.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/sc/implement/props_vs_eVars.html</a> for
                                details.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="1" headers="d438486e377 "><samp class="ph codeph">heartbeatSSL</samp></td>

                            <td class="entry" valign="top" width="3" headers="d438486e380 ">Specifies whether the <samp class="ph codeph">heartbeatTrackingServer</samp> pings via HTTPS
                                (<samp class="ph codeph">"heartbeatSSL":true</samp>) or HTTP
                                (<samp class="ph codeph">"heartbeatSSL":false</samp>, the default).</td>

                        </tr>

                    </tbody>

                </table>
</div>
</div>

        <div class="section"><h2 class="title sectiontitle">Example</h2>
            
            <p class="p">The following example shows how to load the Adobe Analytics plugins and use the page
                plugins. You will need to modify all items in bold with your data for this example
                to run.</p>

            <pre class="pre codeblock">&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Adobe Analytics Example&lt;/title&gt;
    &lt;!-- V4 JS core is required. Plugins such as skin, discovery and Advertising need to be loaded separately --&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/core.min.js"&gt;&lt;/script&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/html5-skin.min.js"&gt;&lt;/script&gt;
    &lt;link rel="stylesheet" href="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/html5-skin.min.css" /&gt;
    &lt;!-- A Video Plugin is required. This example shows the Main Video Plugin --&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/main_html5.min.js"&gt;&lt;/script&gt;
    <strong class="ph b">&lt;!-- Analytics Plugins --&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/VideoHeartbeat.min.js"&gt;&lt;/script&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/AppMeasurement.js"&gt;&lt;/script&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/VisitorAPI.js"&gt;&lt;/script&gt;
    &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/omniture.min.js"&gt;&lt;/script&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="container" style="width:640px; height:360px;"&gt;&lt;/div&gt;
    &lt;script&gt;
        var playerParam = {
            "pcode": <strong class="ph b">"YOUR_PCODE"</strong>,
            "playerBrandingId": <strong class="ph b">"YOUR_PLAYER_ID"</strong>,
            "skin": {
                // Config contains the configuration setting for player skin. Change to your local config when necessary.
                "config": "<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/skin.json"
            },
            <strong class="ph b">"omniture": {
                "marketingCloudOrgId": "YOUR_MARKETING_CLOUD_ORG_ID",
                "visitorTrackingServer": "TEST.sc.TEST.net",
                "appMeasurementTrackingServer": "TEST.sc.TEST.net",
                "reportSuiteId": "YOUR_REPORT_SUITE_ID",
                "pageName": "Test Page Name",
                "visitorId": "test-vid",
                "debug": true,
                "channel": "Test Heartbeat Channel",
                "heartbeatTrackingServer": "TEST.en.TEST.net",
                "publisherId": "YOUR_PUBLISHER_ID",
                "props": {
                    "prop1": "sports",
                    "prop25": "football"
                },
                "eVars": {
                    "eVar9": "en"
                }
            }</strong>
        };
        OO.ready(function() {
            window.pp = OO.Player.create("container", <strong class="ph b">"YOUR_ASSET_ID"</strong>, playerParam);
        });
    &lt;/script&gt;
    &lt;body&gt;
&lt;/html&gt;
            </pre>

        </div>

    </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br/>
<div><a class="link" href="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_js_players.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_js_players.html</a></div>
<div><a class="link" href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-setup-analytics.html</a></div>
<div><a class="link" href="https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html" target="_blank">https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html</a></div>
</div>
</div>

</body>
</html>