<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="See the IMA Sample App in Action on Android"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/mobile_sdk_android_googleima.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="mobilesdk_android_googleima_tutorial"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>See the IMA Sample App in Action on Android</title>
</head>
<body id="mobilesdk_android_googleima_tutorial">


  <h1 class="title topictitle1">See the IMA Sample App in Action on Android</h1>


  <div class="body taskbody">
    <div class="section context">Use the following steps to run the sample app.</div>

    <ol class="ol steps"><li class="li step stepexpand">
        <span class="ph cmd">Download the IMASampleApp from the Android sample app Git repository.</span>
         <a class="xref" href="https://github.com/ooyala/android-sample-apps.git" target="_blank">Ooyala Android Sample Apps</a>

      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Unzip the <samp class="ph codeph">OoyalaIMASDK-Android.zip</samp> file to a location on your hard
          drive.</span>
      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Open Android Studio and select <span class="ph uicontrol">Open Existing Project</span>.</span>
         <img class="image" src="../image/droid_openexisiting.png" height="177" width="301" alt="Open Existing Project"/>
      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Navigate to the <samp class="ph codeph">/IMASampleApp</samp>folder and select
            <span class="ph uicontrol">Choose</span>.</span>
         The Gradle scripts run to set the project in the Android Studio
          IDE.
      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Open <samp class="ph codeph">IMAListActivity.java</samp> for editing.</span>
         apps/java/com.ooyala.sample/lists/IMAListActivity.java 
      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Update the selection map with the embed code for each video required in the app.</span>
         This step is shown in the following
          example:<pre class="pre codeblock">selectionMap = new LinkedHashMap&lt;String, PlayerSelectionOption&gt;();
//Populate the embed map
selectionMap.put("IMA Ad-Rules Preroll", new PlayerSelectionOption("EzZ29lcTq49IswgZYkMknnU4Ukb9PQMH", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Ad-Rules Midroll", new PlayerSelectionOption("VlaG9lcTqeUU18adfd1DVeQ8YekP3H4l", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Ad-Rules Postroll", new PlayerSelectionOption("BnaG9lcTqLXQNyod7ON8Yv3eDas2Oog6", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Podded Preroll", new PlayerSelectionOption("1wNjE3cDox0G3hQIWxTjsZ8MPUDLSkDY", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Podded Midroll", new PlayerSelectionOption("1yNjE3cDodUEfUfp2WNzHkCZCMb47MUP", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Podded Postroll", new PlayerSelectionOption("1sNjE3cDoN3ZewFm1238ce730J4BMrEJ", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Podded Pre-Mid-Post", new PlayerSelectionOption("ZrOTE3cDoXo2sLOWzQPxjS__M-Qk32Co", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Skippable", new PlayerSelectionOption("FhbGRjbzq8tfaoA3dhfxc2Qs0-RURJfO", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Pre, Mid and Post Skippable", new PlayerSelectionOption("10NjE3cDpj8nUzYiV1PnFsjC6nEvPQAE", PreconfiguredIMAPlayerActivity.class) );
selectionMap.put("IMA Application-Configured", new PlayerSelectionOption("EzZ29lcTq49IswgZYkMknnU4Ukb9PQMH", CustomConfiguredIMAPlayerActivity.class) );
\u0000</pre>

      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Open <samp class="ph codeph">PreconfiguredIMAPlayerActivity.java</samp> for editing.</span>
         <span class="ph filepath">app/java/com.ooyala.sample/players/PreconfiguredIMAPlayerActivity.java</span>
      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Replace the <samp class="ph codeph">PCODE</samp> with your Ooyala-supplied provider ID code. For
          details, see <a class="xref" href="api_keys.html" title="Your Ooyala API credentials include your API key and secret, which you provide to sign HTTP requests and when using the scratchpad.">Your API Credentials</a>.</span>
         This step is shown in the following code
            sample:<pre class="pre codeblock">public class PreconfiguredIMAPlayerActivity extends Activity implements Observer {
public final static String getName() {
return "Preconfigured IMA Player";
  }
final String TAG = this.getClass().toString();

  String EMBED = null;
 <strong class="ph b"> final String PCODE  = "R2d3I6s06RyB712DN0_2GsQS-R-Y";</strong>
  final String DOMAIN = "http://ooyala.com";

  protected OptimizedOoyalaPlayerLayoutController playerLayoutController;
  protected OoyalaPlayer player;\u0000
   </pre>
<div class="note note"><span class="notetitle">Note:</span> Leave
              <samp class="ph codeph">new PlayerDomain(DOMAIN)</samp> unchanged as
              <samp class="ph codeph">http://www.ooyala.com</samp>. This constant works in conjunction with
              <strong class="ph b">Syndication Controls</strong> (publishing rules) in <span class="ph">Backlot</span>. If you have set Internet domain restrictions on videos in <span class="ph">Backlot</span> (see the <em class="ph i"><span class="ph">Backlot</span> User
              Guide</em>), the constant here can be set to one of those allowed domains. If you have
            not set these <strong class="ph b">Syndication Controls</strong>, the constant has no effect.</div>

      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Save your changes.</span>
      </li>
<li class="li step stepexpand">
        <span class="ph cmd">Click the play button to see the app run in the Android Studio emulator.</span>
      </li>
</ol>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="mobile_sdk_android_googleima.html">Integration with Google IMA on Android</a></div>
</div>
</div>

</body>
</html>