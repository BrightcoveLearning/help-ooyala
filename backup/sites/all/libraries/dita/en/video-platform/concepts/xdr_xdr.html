<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Server-to-Server: Getting the Playback Position"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/chapter_xdr.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="concept_v55_kcj_bm"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Server-to-Server: Getting the Playback Position</title>
</head>
<body id="concept_v55_kcj_bm">


 <h1 class="title topictitle1">Server-to-Server: Getting the Playback Position</h1>


 <div class="body conbody">
   <div class="section"><div class="note note"><span class="notetitle">Note:</span> This functionality applies to Ooyala <span class="ph">Player V4</span> and <span class="ph">Player V3</span> (Deprecated).</div>
</div>

   <div class="section">
   <p class="p">After you retrieve the playback position, send it along with the formatted OPT string to the client application to initiate playback.
     </p>
<div class="p">There are two ways to get a playback position: <ul class="ul">
        <li class="li">For a specific asset for a given user</li>

        <li class="li">For all assets of a given user</li>

      </ul>
</div>
 
   <p class="p">This request must be signed by your Ooyala-supplied API credentials. For more information about
    signing requests, see the <a class="xref" href="../tasks/api_signing_requests.html" title="Every request made to Backlot requires three query string parameters for authentication: API key, request expiration, and signature. This topic tells how to generate the signature.">General Algorithm for Signing Requests</a>.</p>

   <p class="p">To get the playback position for a specific asset for a given user:</p>

   <pre class="pre codeblock">[GET]http://api.ooyala.com/v2/cross_device_resume/accounts/account_id/viewed_assets/embed_code(identifier for the asset)/playhead_info</pre>

   <p class="p">You may also replace <samp class="ph codeph">embed_code</samp> with <samp class="ph codeph">asset_id</samp>,
     and this will work for Backlot assets as well as third-party assets:</p>

   <pre class="pre codeblock">[GET]http://api.ooyala.com/v2/cross_device_resume/accounts/account_id/viewed_assets/asset_id/playhead_info</pre>

     
   <p class="p"><strong class="ph b">Response:</strong></p>

   <pre class="pre codeblock">{  
   playhead_seconds:&lt;position in seconds&gt;,
   timestamp:&lt;when the play event was received&gt;
}</pre>
 
   
   <p class="p">To get the playback positions for all assets viewed for a specific user:</p>

   <pre class="pre codeblock">[GET]http://api.ooyala.com/v2/cross_device_resume/accounts/account_id/playhead_info?limit=max_number_results</pre>

   <p class="p">The <samp class="ph codeph">limit</samp> parameter is optional, and specifies the maximum number of results
      to return.</p>

   
   <p class="p"><strong class="ph b">Response:</strong></p>

   <pre class="pre codeblock">{  
   "items":[  
      {  
         "playhead_seconds":&lt;position in seconds&gt;,
         "timestamp":&lt;when the play event was recieved&gt;,
         "embed_code":&lt;asset_id for Backlot asset or external asset&gt;
      }
   ],
   "account":   &lt;account_id&gt; 
 "provider_id":&lt;id of the provider or "pcode"&gt;
}</pre>

  <p class="p">Formal reference documentation for this API request is at <a class="xref" href="../api/cross_device_resume.html" title="This request is only one part of implementing cross-device resume (XDR).">Cross-Device Resume: Getting the Playback Position Using the Backlot REST API</a>.</p>

   </div>

 </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="chapter_xdr.html" title="Cross-device resume (XDR) enables viewers to start watching a video on one device, pause it, and continue to play it later from a different device. Ooyala Player (V4 and V3) and the mobile SDKs support cross-device resumption of playback, in conjunction with Ooyala's REST APIs.">Cross-device Resume (XDR)</a></div>
</div>
</div>

</body>
</html>