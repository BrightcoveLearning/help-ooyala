<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Server Side Ad Insertion"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/monetization_integrations.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/book_standards.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="ssai_guide"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Server Side Ad Insertion</title>
</head>
<body id="ssai_guide">


    <h1 class="title topictitle1">Server Side Ad Insertion</h1>

    
    <div class="body conbody">
        <div class="section"><p class="p">This is an end-to-end guide to Server Side Ad Insertion (SSAI). For information on
            integrating SSAI with the Ooyala Live stream, please see <a class="xref" href="../../../../../../../video-platform/concepts/liveplatform_pulse.html" target="_blank">here</a>. For information on using SSAI for VOD
            assets, please see <a class="xref" href="../../../../../../../video-platform/concepts/ssai_guide_vod.html" target="_blank">here</a>. </p>
</div>

        <div class="section"><h2 class="title sectiontitle">Introduction to SSAI</h2> This document provides the following information:<div class="p">
                <ul class="ul">
                    <li class="li">An end-to-end understanding of Ooyalaâ€™s Server Side Ad Insertion (SSAI)
                        offering, which includes Live, VOD, and Player. </li>

                    <li class="li">Details on how to enable and configure SSAI for a customer.</li>

                </ul>

            </div>
<p class="p">With SSAI, an ad is inserted into the video stream so it becomes a single piece
                of content. SSAI is specific to advertising on live content and provides
                monetization support that lets providers sew ads directly into the live video
                stream, creating one piece of content. </p>
<p class="p">This ad insertion model provides
                flexibility and minimizes latency in fast-changing live environments, reducing the
                chances for errors and providing a more seamless ad experience for
                audiences.</p>
<div class="p">In summary, SSAI enables you to: <ul class="ul">
                    <li class="li">Increase viewer engagement with broadcast content through inserting more
                        targeted and personalized ads into Live streams.</li>

                    <li class="li">Serve ads to all kinds of devices.</li>

                    <li class="li">Offer the most optimal viewing experience with in stream ads.</li>

                    <li class="li">Do target ads.</li>

                    <li class="li">Increase ad impression and boost inventory yield and live event revenues by
                        circumventing ad blockers.</li>

                    <li class="li">Increase ad fill rate.</li>

                </ul>
</div>
</div>
<div class="section"><h2 class="title sectiontitle">Before You Start - SSAI Considerations</h2>
                
                    <p class="p"><strong class="ph b">Supported Environments for SSAI</strong></p>

                    <p class="p">See <a class="xref" href="../../../../../../../video-platform/concepts/pbv4_environments.html" target="_blank">Supported Browsers and Operating Systems for
                    Player V4</a> for information about the currently supported versions of the
                environments listed below.</p>

                    <div class="p"><em class="ph i">Web Browsers</em>
                <ul class="ul">
                    <li class="li">Microsoft Edge</li>

                    <li class="li">Safari</li>

                    <li class="li">Chrome</li>

                    <li class="li">FireFox</li>

                    <li class="li">IE</li>

                    <li class="li">Chrome Mobile</li>

                    <li class="li">Safari Mobile - only supported for Non-Smart Player. This means that such
                        environments will have the following limitations: <ul class="ul">
                            <li class="li">Locking of the player controls during the ad is not available so
                                users will be able to seek past the ad.</li>

                            <li class="li">Impressions handled by server and may be less accurate.</li>

                            <li class="li">Only playhead position event impressions can be made. Fullscreen,
                                pause/resume, and volume change events are not available.</li>

                        </ul>
</li>

                </ul>
</div>

                    <p class="p"><em class="ph i">App Environments Supporting SSAI</em></p>

            <ul class="ul">
                <li class="li">Android</li>

                <li class="li">iOS</li>

                <li class="li">TVoS</li>

                <li class="li">Amazon Fire TV</li>

            </ul>

                    <p class="p"><em class="ph i">Supported formats for SSAI</em></p>

                    <ul class="ul">
                        <li class="li">HLS v3 for both Live and VOD</li>

                    </ul>

                    <p class="p"><em class="ph i">Ad Servers Supported</em></p>

                    <ul class="ul">
                        <li class="li">DFP</li>

                        <li class="li">Pulse</li>

                    </ul>

                    <div class="note note"><span class="notetitle">Note:</span> SSAI is not yet supported on environments that require DASH.</div>

                </div>
<div class="section"><h2 class="title sectiontitle">Supported Features with SSAI</h2>
                    
                    <p class="p">We currently support the following features with SSAI:</p>

            <p class="p"><strong class="ph b">VOD</strong></p>

                    <ul class="ul">
                        <li class="li">Pre-Roll, Mid-Roll, and Post-Roll.</li>

                        <li class="li">Content addition is performed with SSAI to the video stream.</li>

                        <li class="li">Personalized ad support, which means that every user can have a different combination of ads based on what is configured in the ad server.
                        </li>

                        <li class="li">Support for VAST 3.0.</li>

                <li class="li">eHLS support available. DRM support only available for HLS.</li>
<li class="li">Ads are downloaded from the Ad Server and transcoded to match the processing profile used with
                    the main video content encoding.</li>

                        <li class="li">SSAI for VOD is supported for both Azure and Elemental.</li>

                        <li class="li">Ads are always served through Ooyala CloudFront CDN. Other CDN support will come in the future. Customers video segments will be delivered as the serving configuration but Ad segments will always be supported via Cloudfront CDN.</li>

                        <li class="li">Ad cue points can be added as follows. If multiple methods are used, then the predefined priority order is followed:
                        <ul class="ul">
                            <li class="li"><a class="xref" href="../../../../../../../video-platform/tasks/pbv4_assign_adsets_dynamic.html" target="_blank">Backlot ad sets</a> and then assigning the ad set to the asset (priority order 3)</li>

                            <li class="li">Parameters set as <a class="xref" href="../../../../../../../video-platform/api/asset_metadata.html" target="_blank">custom metadata</a> at the asset level (Priority order 2)</li>

                            <li class="li"><a class="xref" href="../../../../../../../video-platform/api/pbv4_api_embedparams.html" target="_blank">Page level player parameters</a> (priority order 1)</li>

                        </ul>
</li>

                    </ul>

                    <p class="p">See the <a class="xref" href="../../../../../../../video-platform/concepts/ssai_guide_vod.html" target="_blank">SSAI User Guide for VOD Assets</a> for more information.</p>

                    
            <div class="p"><strong class="ph b">LIVE</strong><ul class="ul">
                    <li class="li">Only Mid-Roll ads are supported.</li>

                    <li class="li">Content replacement is performed with SSAI to the Live stream.</li>

                    <li class="li">includes both personalized and non-personalized ad support.</li>

                    <li class="li">Supports <a class="xref" href="https://wiki.corp.ooyala.com/display/ENG/Live+SSAI+Ads+Pre+Fetching" target="_blank">Pre fetching</a> of ads.</li>

                    <li class="li">Support for VAST 3.0.</li>

                <li class="li">Ads are downloaded from the Ad Server and transcoded to match the processing
                        profile used with the VOD.</li>

                    <li class="li">SSAI for Live is only supported with Ooyala's Encode and Package model.</li>

                    <li class="li">Ad cue point support via<ul class="ul">
                            <li class="li">In-stream SCTE-35 ad marker at the channel level.</li>

                            <li class="li">Big Red button functionality to insert ad avails manually (in this
                                case, the customer must send the source stream to Ooyala via
                                RTP).</li>

                            <li class="li">Calling Live platform API call.</li>

                    </ul>
</li>
<li class="li">Ad support in DVR (if the customer scrubs back in DVR, they will see ads if present).</li>

                    <li class="li">Slate insertion when ad avail and ad length do not match.</li>

                    <li class="li">Both server and client side ad impression reporting.</li>

                    <li class="li">Live to VOD archive without ads.</li>

                </ul>
</div>

                </div>
<div class="section"><h2 class="title sectiontitle">Live Ad Insertion API Call</h2>
                    
                    
                    <p class="p">We provide the option to insert the ad segments through a button on the UI or
                through API calls. </p>

            <p class="p">The following example shows the details of the API call that needs to be made to
                insert the ad markers in the stream, which determines where the ad segments are
                being inserted.</p>

                    
                    <p class="p"><samp class="ph codeph">METHOD: POST</samp></p>

                    <p class="p">URL: https://live.ooyala.com/v2/channels/&lt;channel_id&gt;/insertAdMarkers</p>

                    <p class="p"><samp class="ph codeph">BODY: {"duration":60000,"delay":0}</samp></p>

                    <p class="p">Duration should be no less than 1000.</p>

                    <p class="p">60000 is equal to 60 seconds.</p>

                    <p class="p">The delay is in milliseconds.</p>

                </div>

        <div class="section"><h2 class="title sectiontitle">Unsupported Formats with SSAI</h2>
            
            <p class="p">We currently do not support the following with SSAI Live or VOD:</p>

            <ul class="ul">
                <li class="li">Streams with Multi-Audio Tracks (Single-Audio Track streams only are supported).</li>

                <li class="li">HEVC codec.</li>

                <li class="li">DASH, Smooth output streams.</li>

            </ul>

        </div>

        <div class="section"><h2 class="title sectiontitle">Processing Profile for Ads in VOD SSAI</h2>
            
            <p class="p">For VOD SSAI, ads are downloaded from the Ad server and transcoded based on a predefined profile that has 20 different bitrates and resolution combination. All standard Ooyala recommended bitrates are part of this.</p>

            <p class="p">During ad insertion, the Ads Proxy service reviews the output HLS bitrate and resolution list and picks the most appropriate bitrates of the ad. This allows us to transcode the ad only once for all the different processing profile per provider. </p>

        </div>

        <div class="section"><h2 class="title sectiontitle">Processing Profile for Ads in Live SSAI</h2>
            
            <p class="p">For Live SSAI, ads are downloaded and transcoded as per each Live channel profile.</p>

        </div>

        <div class="section"><h2 class="title sectiontitle">Ooyala Player plugin for SSAI</h2>
            
            <p class="p">As per the IAB standard, ad impression should be done from the client side, i.e. the player. The player plugin for SSAI will support the following features:</p>

            <ul class="ul">
                <li class="li">Support click through, display ad timer, disabling scrubber bar during ad break.</li>

                <li class="li">Perform Ad impression on a quartile basis.</li>

            </ul>

        </div>

        <div class="section"><h2 class="title sectiontitle">Ooyala Web Player</h2>
            
            <p class="p">Plugin Name: <span class="ph filepath">Ooyala_SSAI.js</span> ; Full path:</p>

            <p class="p"><a class="xref" href="http://player.ooyala.com/static/v4/production/ad-plugin/ooyala_ssai.min.js" target="_blank">http://player.ooyala.com/static/v4/production/ad-plugin/ooyala_ssai.min.js</a></p>

            <p class="p">Details: The Ooyala SSAI Plugin is not included by default it must be added inline
                (Advanced Embed) or as a URL parameter of the Standard Embed (SSAI URL parameter -
                <a class="xref" href="../../../../../../../video-platform/concepts/pbv4_plugins_embed.html" target="_blank">https://help-ooyala.brightcove.com/video-platform/concepts/pbv4_plugins_embed.html</a>)</p>

        </div>

        <div class="section"><h2 class="title sectiontitle">Ooyala SDKs</h2>
            
            <p class="p"><strong class="ph b">iOS</strong></p>

            <p class="p">The libraries that need to be included in the applications are the <span class="ph filepath">OoyalaSDK.framework</span> and <span class="ph filepath">OoyalaSSAISDK.framework</span>.</p>

            <p class="p">You can download the Ooyala Mobile SDK for iOS from <a class="xref" href="http://static.ooyala.com.s3.amazonaws.com/sdk/ios/release/OoyalaSDK-iOS.zip" target="_blank">here</a>. </p>

            <p class="p"><strong class="ph b">Android</strong></p>

            <p class="p">The libraries that need to be included in the applications are
                    <span class="ph filepath">core.jar</span>, <span class="ph filepath">OoyalaSsai.jar</span>, and
                <span class="ph filepath">SkinSDK</span>.</p>

            <p class="p">You can download the Ooyala Mobile SDK for Android from  <a class="xref" href="http://static.ooyala.com.s3.amazonaws.com/sdk/android/release/OoyalaSDK-Android.zip" target="_blank">here</a>. </p>

        </div>

        <div class="section"><h2 class="title sectiontitle">Ad impression with a Non-Ooyala Player</h2>
            
            <p class="p">SSAI for VOD and Live will work on any player that can playback HLS. This means if the customer is using a Non-Ooyala Player (a player different than Ooyala Player), we can still support SSAI. To perform ad impression using a Non-Ooyala player, we support server side ad impression.</p>

            <p class="p">However, for VOD SSAI to enable server side ad impression, the customer must deploy the following script, which will send play head information and in return the Ads Proxy service will perform the impression calls.</p>

            <ul class="ul">
                <li class="li"><strong class="ph b">Web</strong>: <a class="xref" href="https://github.com/ooyala/playback-lab-samples/tree/master" target="_blank">https://github.com/ooyala/playback-lab-samples/tree/master</a></li>

                <li class="li"><strong class="ph b">Android</strong>: <a class="xref" href="https://github.com/ooyala/android-sample-apps" target="_blank">https://github.com/ooyala/android-sample-apps</a></li>

                <li class="li"><strong class="ph b">iOS</strong>: <a class="xref" href="https://github.com/ooyala/ios-sample-apps" target="_blank">https://github.com/ooyala/ios-sample-apps</a></li>

            </ul>

        </div>

        <div class="section"><h2 class="title sectiontitle">Analytics related to SSAI</h2>
            
            <p class="p">There is no additional metrics available in IQ related to SSAI. All ad impression should be reviewed in the Ad server dashboard directly.</p>

            <p class="p">However, video metrics will be reported as normal (same as if CSAI ads were inserted).</p>

        </div>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="monetization_integrations.html" title="Use Ooyala's integration with ad managers and third party paywalls to monetize your content.">Monetization</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="book_standards.html" title="Welcome to Supported Standards Guide. These topics describe the requirements and standards that Ooyala supports.">Supported Standards</a></div>
</div>
</div>

</body>
</html>