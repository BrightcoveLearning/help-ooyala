<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Integrating Google IMA Ads with Player V3"/>
<meta name="DC.Relation" scheme="URI" content="../reference/ads_ref_googleima.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/xmp_securexdr_googleima.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="ads_dev_google_ima"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Integrating Google IMA Ads with Player V3</title>
</head>
<body id="ads_dev_google_ima">


  <h1 class="title topictitle1">Integrating Google IMA Ads with Player V3</h1>

  <div class="body conbody">
    <div class="section">The following documentation describes the Google IMA integration with Player V3. For
      documentation on the Google IMA integration with Player V4, see <a class="xref" href="pbv4_ads_dev_chapter_googleima.html">Google IMA Ad Plugin</a>.</div>

    
    <div class="section"><h2 class="title sectiontitle">Overview</h2>
      Google IMA ad sets can be associated with video assets. This
      documentation describes the Google IMA integration with Player V3.<p class="p">You have two options for
        associating Google IMA ads with the Ooyala player:</p>
<ol class="ol" id="ads_dev_google_ima__ol_tvr_t5b_dm">
        <li class="li">
          <strong class="ph b">Via Backlot ad sets</strong>. Create ad sets with the Backlot UI or API. </li>

        <li class="li">
          <strong class="ph b">Via player embedded parameters</strong>. Specify embedded parameters at the page level of
          the player. </li>

      </ol>
 Each of these options is described below.<div class="note note"><span class="notetitle">Note:</span> Currently we only support macros with our
        Google IMA integration. The supported macros include [oo_embedcode] and [timestamp]. These
        macros will only work if you use the Google IMA Ad Module.</div>
</div>

    <div class="section"><h2 class="title sectiontitle">Prerequisites</h2>
       
      <div class="p">
        <div class="note note"><span class="notetitle">Note:</span> For Ooyala HTML5 Player V3, Google IMA is disabled for all versions of Internet
          Explorer.</div>
 Before you can use Ooyala's Google IMA ad integration, you need to log
        into the <a class="xref" href="../../../../../../../contact.html" target="_blank">Customer Portal</a> and submit a ticket requesting to add the Google
        IMA ad source to your account. Once the Google IMA ad source is enabled you'll be able to
        create ad sets for Google IMA.</div>

    </div>

    <div class="section"><h2 class="title sectiontitle">Option 1: Integrate Google IMA Ads with the Ooyala Player via Ad Sets</h2>
      <ol class="ol">
        <li class="li">Create a Google IMA ad set using the Backlot UI or Backlot API.
     
      <p class="p"><strong class="ph b">Backlot UI</strong>: For instructions on how to create an ad set using the Backlot UI, see <a class="xref" href="../tasks/monetization_ads_adsets_integratingadnetworks.html" title="Instead of using your own assets, you can work with other ad sources.">Creating Ad Sets for Integrating with Ad Sources</a>.</p>
<p class="p"><strong class="ph b">Backlot API</strong>: For instructions on
        how to create an ad set programmatically with the Backlot API, see <a class="xref" href="../api/ad_sets.html" title="Ad sets are ad configurations that control the ad experience of an asset during playback.">Ad Sets</a>.</p>
<div class="note note"><span class="notetitle">Note:</span> Choose the Google IMA V3 option for the ad source when
        creating this ad set. </div>

      <p class="p"><strong class="ph b">Ad Set Fields</strong></p>

      <div class="p">The <strong class="ph b">required fields</strong> for creating a Google IMA ad set are: <ul class="ul">
          <li class="li"><em class="ph i">Ad Set name</em>: Enter a name for the ad set. </li>

          <li class="li"><em class="ph i">Ad Tag</em>: Enter your Google IMA tag here. This is available from your DFP,
                Adxchange or Adsense account. For example:
                <pre class="pre codeblock"> http://123fakeads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=
%2F6062%2Fiab_vast_samples&amp;ciu_szs=300x250%2C728x90&amp;impl=s&amp;gdfp_req=
1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]
&amp;correlator=[timestamp]&amp;cust_params=iab_vast_samples%3Dlinear</pre>
</li>

      </ul>
</div>
 </li>

      <li class="li">Assign an ad set to an asset or multiple assets using the Backlot UI, Player API, or Backlot API.
        <p class="p"><strong class="ph b">Backlot UI</strong>: For instructions on how to assign your Google IMA ad set to a single
          asset, see <a class="xref" href="../tasks/asset_manage_monetization.html" title="You can monetize your content using advertisements or create a pay-per-view experience using paywalls.">Managing
            Monetization</a>. For instructions on how to assign your Google IMA ad set to multiple
          assets, see <a class="xref" href="../tasks/asset_bulk.html" title="You can use the Backlot UI to apply settings to more than one asset at a time.">Bulk Applying
            Settings</a>.</p>

        <p class="p"><strong class="ph b">Player API</strong>: With the Player API you can only associate an ad set with an asset on
          your web page. To associate an ad set with an asset on multiple players you must replicate
          the code for each player. To associate an ad set with an asset using the Player API, see
          <a class="xref" href="player_v3_dev_assignadset.html" title="The player enables you to assign ad sets dynamically.">Assigning Ad Sets
            Dynamically</a>.</p>

        <p class="p"><strong class="ph b">Backlot API</strong>: With the Backlot API you can associate an ad set with an asset more
          concretely. That is, when you associate an asset with an ad set using the Backlot API the
          asset and the ad set will be paired together on any player and page you play the asset on.
          To associate an asset with an ad set using the Backlot API, see <a class="xref" href="../api/asset_ad_set.html" title="You can associate ad sets with videos, live streams, and remote assets. For information about creating ad sets, refer to the Backlot User Guide.">Associate Ad Set with Asset</a>.</p>

      </li>

      </ol>

    </div>

    <div class="section"><h2 class="title sectiontitle">Option 2: Integrate Google IMA Ads with the Ooyala Player via Embedded
        Parameters</h2>Follow the steps below to integrate Google IMA ads with a player via
      player embedded parameters. <div class="note note"><span class="notetitle">Note:</span> Ads that are loaded with player parameters will override the
        ad set associated with the asset in Backlot.</div>
<ol class="ol">
        <li class="li">Use the Player V3 OO.Player.create function to create the player. See <a class="xref" href="../tasks/player_v3_dev_adsetoocreate.html" title="Player V3 enables you to assign ad sets dynamically with OO.Player.create and the adSetCode parameter.">Assigning an Ad Set with
            OO.Player.create</a> for instructions on how to use OO.Player.create.</li>

        <li class="li">Pass Google IMA ad tags to the Ooyala player using the google-ima-ads-manager parameter
          and its child parameters, described below.</li>

        <li class="li">(Optional) Assign additional parameters with the additionalAdTagParameters parameter,
          described below.</li>

      </ol>
<p class="p">The following parameters can be used with Google IMA Ad Manager and the Ooyala Player.
        The last two columns of the table note if the parameter is supported for Flash and/or HTML5. </p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" id="d188273e211">Parameter</th>

              <th class="entry" valign="top" id="d188273e214">Description</th>

              <th class="entry" valign="top" id="d188273e217">Flash</th>

              <th class="entry" valign="top" id="d188273e220">HTML5</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">google-ima-ads-manager</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">This is the parent parameter used to pass Google IMA ad server or network tags
                to the Ooyala player. This key only has effect with the values described
                    below.<p class="p"><strong class="ph b">Required:</strong> Yes</p>
</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">additionalAdTagParameters</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">Add functionality to your ad handling such as adding demographic targeting for
                ads. These parameters have a dependency on how the ad tag is set up in Backlot. You
                can use any of the internal key/value pairs that google-ima supports. <div class="note note"><span class="notetitle">Note:</span> Unlike
                  adTagUrl, the additionalAdTagParameters appended parameters do not override
                  anything in the URL from Backlot.</div>
<p class="p"><strong class="ph b">Valid Values:</strong> Refer to <a class="xref" href="https://support.google.com/dfp_premium/answer/1068325?hl=en" target="_blank">Google's documentation on creating a master video tag
                    manually</a>
                </p>
<p class="p"><strong class="ph b">Required:</strong> No</p>
<p class="p"><strong class="ph b">Parent:</strong> google-ima-ads-manager</p>
</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 "> </td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">adTagUrl</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">Your Google IMA ad tag. <div class="note note"><span class="notetitle">Note:</span> The adTagUrl you input here will override
                  whatever Ad Tag value you have assigned to the video asset in Backlot.
                    </div>
<p class="p"><strong class="ph b">Valid Values:</strong>Any string </p>
<p class="p"><strong class="ph b">Required:</strong>
                    Yes</p>
<p class="p"><strong class="ph b">Parent:</strong> google-ima-ads-manager</p>
</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">useStyledNonLinearAds</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">Show or hide a close button for non-linear ads. <p class="p"><strong class="ph b">Valid Values: </strong>yes |
                  true | no | false</p>
<p class="p"><strong class="ph b">Default:
                    </strong>true</p>
<p class="p"><strong class="ph b">Required:</strong>No</p>
<p class="p"><strong class="ph b">Parent:
                  </strong>google-ima-ads-manager</p>

              </td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 "> </td>

            </tr>

            <tr class="row">
              <td class="entry" id="ads_dev_google_ima__showinadcontrolbar" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">showInAdControlBar</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">
                <p class="p">Show or hide player controls bar during ad playback.</p>

                <div class="note note"><span class="notetitle">Note:</span> There is a <a class="xref" href="../reference/player_v3_hide_controller.html" title="Hide the control bar during ad playback through an option hash tag.">general player parameter also called 'showInAdControlBar'</a>.
                  You should not use both showInAdControlBar parameters simultaneously. The
                  preferred method is to use the general player showInAdControlBar parameter outside
                  of the 'google-ima-ads-manager' hash.</div>

                <p class="p"><strong class="ph b">Valid Values:</strong> yes | true | no | false</p>

                <p class="p"><strong class="ph b">Default: </strong>no</p>

                <p class="p"><strong class="ph b">Required:</strong> No</p>

                <p class="p"><strong class="ph b">Parent:</strong> google-ima-ads-manager</p>

              </td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

            </tr>

            <tr class="row">
              <td class="entry" id="ads_dev_google_ima__showadmarquee" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">showAdMarquee</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">Show or hide ad marquee during ad playback. <p class="p"><strong class="ph b">Valid Values:</strong> true |
                  false</p>
<p class="p"><strong class="ph b">Default: </strong>true</p>
<p class="p"><strong class="ph b">Required:</strong> No</p>
<p class="p"><strong class="ph b">Parent:</strong>
                  google-ima-ads-manager</p>
</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">playWhenAdClick</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">If set to yes, ad playback will continue even if an ad is clicked. For Flash,
                if playWhenAdClick is set to false with no ad controls, after the user clicks on the
                ad and is redirected, ad playback will continue when the user clicks on the ad the
                second time. We are aware that this causes some undesired behavior where the ad url
                opens for both ad pause and ad play events. We are working with the Google IMA team
                to fix this behavior.<p class="p">Otherwise, ad playback will pause.</p>
<p class="p"><strong class="ph b">Valid
                    Values:</strong> yes | true | no | false</p>
<p class="p"><strong class="ph b">Default:
                    </strong>no</p>
<p class="p"><strong class="ph b">Required:</strong> No</p>
<p class="p"><strong class="ph b">Parent:</strong>
                google-ima-ads-manager</p>
</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

            </tr>

            
            <tr class="row">
              <td class="entry" id="ads_dev_google_ima__adrequesttimeout" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">adRequestTimeout</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">Set the time taken, in milliseconds, to make a timeout for the ad request and
                continue the video playback. <p class="p"><strong class="ph b">Valid Values:</strong> Any integer greater than or
                  equal to 1000 </p>
<p class="p"><strong class="ph b">Default: </strong>3000</p>
<p class="p"><strong class="ph b">Required:</strong> No</p>
</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

              <td class="entry" valign="top" headers="d188273e211 d188273e214 d188273e217 d188273e220 ">X</td>

            </tr>

          </tbody>

        </table>
</div>
<p class="p">Below is a code snippet showing how to use the google-ima-ads-manager parameter.
        You will replace "some url" with the actual Google IMA ad tag containing the response.
        </p>
<div class="p"><pre class="pre codeblock">var videoPlayer =
  OO.Player.create("playerwrapper", "embed_code", {
    height: "100%",
    width: "100%",
    "google-ima-ads-manager": {
      adTagUrl: "some url",
      
      ...
    }
  });</pre>
Below
        is a more robust example of Google IMA V3 integration that will work for both Flash and
        HTML5. The player_branding_id of a player and the embed code of an asset can be found in the
        Embed tab on the MANAGE page of Backlot. To include the HTML5 pre-roll playback controls, a
        "showInAdControlBar" : true flag needs to be set in the "google-ima-ads-manager" like the
        following:
      </div>
<pre class="pre codeblock">&lt;html&gt;

&lt;head&gt;
  &lt;script src='http://player-staging.ooyala.com/v3/player_branding_id'&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id='ooyalaplayer' style='width:640px;height:360px'&gt;&lt;/div&gt;
  &lt;script&gt;
    OO.ready(function () {   
      OO.Player.create("ooyalaplayer", "embed_code", {
        "google-ima-ads-manager": {
          "adTagUrl": "yourAdTagUrl",
          "showInAdControlBar": true     
        },
        onCreate: function (player) {
        ...
        }  
      });
    });
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</pre>
</div>

    <div class="section" id="ads_dev_google_ima__dfp_information">
      <div class="p"> Below is an example of one of the appended parameters you can use to specify a video or
        video stream. You specify the video using the video embed code, which you can find in
        Backlot.
        <pre class="pre codeblock">"google-ima-ads-manager": {
  "adTagUrl": "some url",
  "additionalAdTagParameters": {
    "vid": "embed code",
    "cmsid": "349"
  }
}</pre>

        To learn how to use additionalAdTagParameters, see <a class="xref" href="../reference/ads_ref_googleima.html">Google IMA Ads Embedded Parameters in Player V3 (Deprecated)</a>.</div>

    </div>

    <div class="section"><h2 class="title sectiontitle">Special Case: Google DFP Premium</h2>
      
      <p class="p">This section only applies if you are using Google DFP.</p>

      <p class="p">Before trafficking ads, if you are using DFP Premium you must first map your video content
        and all related custom metadata to Google's platform. To learn how to do this, see <a class="xref" href="monetization_dfp.html" title="You can synch your Ooyala-hosted content with DoubleClick for Publishers (DFP) via either the Backlot API or an MRSS feed so you can monetize it with Google IMA.">Monetizing your Ooyala Content with
          DFP</a>.</p>

      <div class="sectiondiv">
        <p class="p"><strong class="ph b">Custom Metadata</strong></p>

        <p class="p">If your video content has been successfully ingested into DFP, all custom metadata
          key/value pairs should be visible in DFP's Content tab. These values may be used to target
          ads against particular types of content. The following screenshot, for example, is from an
          individual video asset from Ooyala’s test DFP account. <img class="image" src="../image/dfp_metadata.png" height="340" width="431" alt="DFT Metadata"/>
        </p>

      </div>
      <div class="sectiondiv">
        <p class="p"><strong class="ph b">Mapping Custom Metadata to DFP Keys</strong></p>

        <p class="p">You have the option of creating custom targeting keys on DFP Premium. These keys are then
          mapped to the key/values ingested from Backlot. To create these keys, in DFP, go to <span class="ph menucascade"><span class="ph uicontrol">Inventory</span> &gt; <span class="ph uicontrol">Custom targeting</span> &gt; <span class="ph uicontrol">+ New key</span></span>, as shown below. <img class="image" src="../image/dfp_custom_targeting.png" height="229" width="504" alt="Custom Targeting"/> For more information, go to the <a class="xref" href="https://support.google.com/dfp_premium/answer/1241378?hl=en&amp;ref_topic=1342208" target="_blank">DFP help article</a> on custom targeting.</p>

      </div>
      <div class="sectiondiv">
        <p class="p"><strong class="ph b">Ad Rules</strong></p>

        <div class="p">
          <div class="note note"><span class="notetitle">Note:</span> Cuepoints are no longer supported for Google IMA V3. You will now set ad positions
            through ad rules which are created in your DFP account. </div>

        </div>

        <p class="p">Ad rules can define when ads are inserted, how long they should run for, what format of
          ads are run, and what to use as the ad source. </p>

        <div class="p">Publishers can set up two types of ad rules in DFP in addition to Default Ad Rules that
          are already available in DFP: <ul class="ul">
            <li class="li">Standard Ad Rules, which apply to a single stream of content.</li>

            <li class="li">Session Ad Rules. which applies to a visitor’s entire visit to customer’s pages.
              They can be applied across multiple content streams and across multiple sites. Session
              ad rules can only be applied to pre-roll ads.</li>

          </ul>
</div>

        <p class="p">To enable ad rules for an ad:</p>

        <ol class="ol" id="ads_dev_google_ima__ad_rules">
          <li class="li">Specify your ad rules in DFP. For information on implementing DFP ad rules, go to
              <a class="xref" href="https://support.google.com/dfp_premium/answer/2553686?hl=en" target="_blank">https://support.google.com/dfp_premium/answer/2553686?hl=en</a>.</li>

          <li class="li">To enable your DFP ad rules to correctly render for your Google IMA V3 ad with the
            Backlot UI, click <span class="ph menucascade"><span class="ph uicontrol">MONETIZE</span> &gt; <span class="ph uicontrol"> </span> &gt; <span class="ph uicontrol">Ad Sets</span></span>, and set the ad position to "ad rules" for the desired ad. For more
            information on Google IMA V3 ads in the Backlot UI, see <a class="xref" href="../reference/adset_fields_google.html" title="The fields described here are for Backlot ad sets with ad source set to Google IMA V3.">Ad Set Fields for Google IMA V3</a>. <p class="p">OR</p>
<div class="p">To enable
              your DFP ad rules to correctly render for your Google IMA V3 ad with the Backlot API,
              set "<span class="keyword parmname">ad_type</span>": "<samp class="ph codeph">rules</samp>" for the desired ad. For
              more information see <a class="xref" href="../api/ad_sets.html#ad_sets__ad_type">Ad Sets</a>.
                <div class="note note"><span class="notetitle">Note:</span> Settings applied at the page level with the ad tag url will override Backlot
                settings. However, the position type (ad rule or non ad rule) must match on the page
                level and in Backlot for ads and ad rules to properly render.</div>
</div>
</li>

        </ol>

        
      </div>
      <div class="sectiondiv">
        <p class="p"><strong class="ph b">Ad Targeting</strong></p>

        <p class="p">To enable targeting against content metadata values, Google DFP requires two values to be
          included on your IMA tag: <strong class="ph b">cmsid</strong> and <strong class="ph b">vid</strong>. Once these values are included when
          making ad requests, the IMA ad manager “knows” which video asset is making the request. As
          a result, it returns whatever ad response has been defined by the publisher’s ad
          operations team. </p>
<p class="p"/>

        <strong class="ph b">cmsid</strong>: A unique value assigned automatically by Google to each content source. To
        locate it within the DFP Premium platform, click on the Video tab (on the upper right),
        navigate to Sources and click on the source in question. The value is “ID,” as shown below:
          <img class="image" src="../image/dfp_cmsid.png" height="298" width="543" alt="CMSID"/>
        <p class="p"><strong class="ph b">vid</strong>: A unique value for each video asset. The Ooyala-IMA integration uses Ooyala’s
          Content ID. </p>
<p class="p"/>
<p class="p">When creating the IMA Ad Manager adset, the publisher will need to
          append the IMA ad tag with the macro [oo_embedcode]. Here’s an example IMA Ad Manager tag
          with both cmsid and vid:
          </p>
<p class="p">http://googleads.g.doubleclick.net/pagead/ads?client=ca-video-pub-9498212586027311&amp;slotname=8286566767&amp;cmsid=176&amp;vid=[oo_embedcode]</p>

        <div class="p">You can also pass vid and cmsid programmatically on your web page, as shown in the
          following example.
          <pre class="pre codeblock">"google-ima-ads-manager": {
  adTagUrl: "some url",
  "additionalAdTagParameters": {
    "vid": "embed code",
    "cmsid": "349"
  }
}</pre>
</div>
</div>
    </div>

    
    <div class="section"><h2 class="title sectiontitle">Special Case: Google IMA V3 Companion Ads</h2>
      <div class="p" id="ads_dev_google_ima__docs-internal-guid-60059d58-3434-907e-0b7b-53982c417af3">Google IMA V3 companion ads
        don’t use the standard Player V3 <samp class="ph codeph">WILL_SHOW_COMPANION_ADS</samp> event. This is
        because Google IMA itself is responsible for parsing and generating the companion ad. To use
        companion ads:<ol class="ol" id="ads_dev_google_ima__ol_lgw_wvy_bm">
          <li class="li">Include the following code in your webpage:
            <pre class="pre codeblock">&lt;script src="//www.googletagservices.com/tag/js/gpt.js"&gt;
&lt;/script&gt;</pre>
</li>

          <li class="li">Create the companion tag. </li>

          <li class="li">Call the right Google API to place the companion ad. For
            example:<pre class="pre codeblock">&lt;div id='cad' style='width:300px;height:250px;background-color:red'&gt;&lt;/div&gt;
&lt;/br&gt;
&lt;script type="text/javascript"&gt;
  // Add a command to the command queue
  googletag.cmd.push(function () {     // Define the unit
        
    var adSlot1 = googletag.defineSlot('/5129/News/QLD', // Ad Unit Name, obtained by the provider
      [300, 250],          
      'cad');    
    adSlot1.addService(googletag.companionAds());    
    googletag.enableServices();
    // Immediately signal to show it.
        
    googletag.display('cad');
  });
&lt;/script&gt;</pre>
</li>

        </ol>
</div>
</div>

    <div class="section"><h2 class="title sectiontitle">Special Case: Twitter Cards</h2>
      
      <p class="p">To learn how to integrate with Twitter Player Cards, see <a class="xref" href="chapter_twitter.html" title="Twitter player cards enable you to embed your video content directly in Twitter sites and mobile applications.">Integration with Twitter Player
          Cards</a>.</p>

    </div>

    <div class="section"><h2 class="title sectiontitle">Special Case: Google IMA and Mobile</h2>
      
      <div class="p">Ooyala supports Google IMA for both desktop and mobile. For information about working with
        Google IMA for mobile devices, see the following mobile SDK for Android and iOS topics. <ul class="ul">
          <li class="li">Android - <a class="xref" href="mobile_sdk_android_googleima.html#mobile_sdk_android_googleima">Integration with Google IMA on Android</a> and <a class="xref" href="mobile_sdk_android_googleima_tutorial.html#mobilesdk_android_googleima_tutorial">IMA Sample App in Action on Android</a>.</li>

          <li class="li">iOS - <a class="xref" href="mobile_sdk_ios_googleima.html#mobilesdk_ios_googleima">Integration with Google IMA on iOS</a> and <a class="xref" href="mobile_sdk_ios_googleima_tutorial.html#mobilesdk_ios_googleima_tutorial">IMA Sample App in Action on iOS</a>.</li>

        </ul>
</div>

    </div>

  </div>

  <div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a class="link" href="xmp_securexdr_googleima.html" title="You can use the following code sample to help you get started start creating your playback experience with Ooyala Cross-Device Resume and Google IMA ads integration and adding Player Token authentication.">Sample Application: Ooyala Cross-Device Resume, Google IMA Ads Integration, and
        Player Token Authentication</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a class="link" href="../reference/ads_ref_googleima.html">Google IMA Ads Embedded Parameters in Player V3 (Deprecated)</a></div>
</div>
</div>

</body>
</html>