<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Integrating VAST and VPAID Ads"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="ads_dev_vast"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Integrating VAST and VPAID Ads</title>
</head>
<body id="ads_dev_vast">


    <h1 class="title topictitle1">Integrating VAST and VPAID Ads</h1>

   
    <div class="body conbody">
        <div class="section">You can integrate VAST and VPAID ads with Player V4 using the <a class="xref" href="pbv4_ads_dev_chapter_vast.html">VAST and VPAID Ad Plugin</a>
            (<samp class="ph codeph">ad_manager_vast.js</samp>).</div>
   
        <div class="section"><h2 class="title sectiontitle">Enabling the VAST/VPAID Ad Source(s) for Your Account</h2>
            Before you can use VAST and VPAID ad integration:
            
            <ol class="ol">
                <li class="li">Log into the <span class="ph">Ooyala <a class="xref" href="../../../../../../../contact.html" target="_blank">Customer Portal</a></span>.</li>

                <li class="li">Submit a ticket requesting that the VAST and VPAID ad source be added to your
                    Ooyala account.</li>

            </ol>
</div>

        <div class="section"><h2 class="title sectiontitle">Customizing the Ad Control Bar and Marquee Functionality</h2> You can
            modify <a class="xref" href="../reference/pbv4_skin_schema_docs.html">skin.json</a> to customize ad control bar and ad marquee functionality for the
            VAST and VPAID plugin rendering VAST 2.0 or VAST 3.0 ads. <div class="note note"><span class="notetitle">Note:</span> For the VAST and VPAID
                plugin rendering VPAID 2.0 ads, the ad control bar and ad marquee configurations in
                skin.json are ignored (and are forcibly set to off) to avoid blocking ad
                interactivity.</div>
</div>

        <div class="section"><h2 class="title sectiontitle">Step 1: Create an Ad Set Using Backlot</h2>
            
            <p class="p">After you have VAST and/or VPAID enabled enabled for your account, you can associate
                VAST and/or VPAID ad tags with your videos. 


                For VAST and VPAID ads, you must create an ad set with Backlot using:</p>

            <ul class="ul">
            <li class="li"><strong class="ph b">Backlot UI</strong>:To create an ad set using the Backlot UI, see <a class="xref" href="../tasks/monetization_ads_adsets_integratingadnetworks.html" title="Instead of using your own assets, you can work with other ad sources.">Creating Ad Sets for Integrating with Ad Sources</a>.</li>

            <li class="li"><strong class="ph b">Backlot API: </strong> To create an ad set programmatically, see <a class="xref" href="../api/ad_sets.html" title="Ad sets are ad configurations that control the ad experience of an asset during playback.">Ad Sets</a>.</li>

            </ul>

            <div class="note note"><span class="notetitle">Note:</span> 
                <ul class="ul">
                    <li class="li">For Ad Source, choose <strong class="ph b">VAST Compliant In-Stream</strong>. Disregard all other options
                        with "VAST" in the name.</li>

                    <li class="li">For this version, the steps for configuring VAST and VPAID ad sets are identical.</li>

            </ul>
</div>

            <p class="p"><strong class="ph b">VAST Compliant In-Stream Ad Set</strong></p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" id="d429230e113">Field</th>

                            <th class="entry" valign="top" id="d429230e116">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e113 d429230e116 "><samp class="ph codeph"><span class="keyword parmname">Ad Set name</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e113 d429230e116 ">You will enter a name for the ad set. </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e113 d429230e116 "><samp class="ph codeph"><span class="keyword parmname">Ad Tag</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e113 d429230e116 ">You will input your VAST 2.0 or VAST 3.0 ad tag here (this is provided by an ad server).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e113 d429230e116 "><samp class="ph codeph"><span class="keyword parmname">Ad Position</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e113 d429230e116 ">Define where in the video stream the VAST ad should appear:<ul class="ul">
                                    <li class="li">Pre-roll </li>

                                    <li class="li">In-stream (mid-roll): Include the time in seconds where the VAST tag
                                        will be called. </li>

                                    <li class="li">Post-roll </li>

                                </ul>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e113 d429230e116 "><samp class="ph codeph"><span class="keyword parmname">Tracking Pixel URL</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e113 d429230e116 ">Use this field to track VAST ad impressions using your own or a 3rd-party URL.</td>

                        </tr>

                        
                    </tbody>

                </table>
</div>


            
            <p class="p"><strong class="ph b">LiveRail (VAST) In-Stream Ad Set</strong></p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" id="d429230e193">Field</th>

                            <th class="entry" valign="top" id="d429230e196">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e193 d429230e196 "><samp class="ph codeph"><span class="keyword parmname">Ad Set name</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e193 d429230e196 ">You will enter a name for the ad set.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e193 d429230e196 "><samp class="ph codeph"><span class="keyword parmname">Ad Tag</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e193 d429230e196 ">You will input your VAST 2.0 or VAST 3.0 ad tag here (this is provided by an ad server).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e193 d429230e196 "><samp class="ph codeph"><span class="keyword parmname">Tracking Pixel URL</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e193 d429230e196 ">Use this field to track VAST ad impressions using your own or a 3rd-party URL.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" headers="d429230e193 d429230e196 "><samp class="ph codeph"><span class="keyword parmname">Ad Position</span></samp></td>

                            <td class="entry" valign="top" headers="d429230e193 d429230e196 ">Define the time (in seconds) where the overlay ad should appear.</td>

                        </tr>

                        
                    </tbody>

                </table>
</div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Step 2: Assign the Ad Set to an Asset Using Backlot or the Player
                API</h2> Assign an ad set to an asset or multiple assets using: <ul class="ul">
                <li class="li"><strong class="ph b">Backlot UI</strong>: To assign your VAST ad set to a single asset, see <a class="xref" href="../tasks/asset_manage_monetization.html" title="You can monetize your content using advertisements or create a pay-per-view experience using paywalls.">Managing
                        Monetization</a>. For instructions on how to assign your VAST ad set to
                    multiple assets, see <a class="xref" href="../tasks/asset_bulk.html" title="You can use the Backlot UI to apply settings to more than one asset at a time.">Bulk
                        Applying Settings</a>. </li>

                <li class="li"><strong class="ph b">Player API</strong>: With the Player API, you can associate an ad set with only an
                    asset on your web page. To associate an ad set with an asset on multiple
                    players, you must replicate the code for each player. See <a class="xref" href="../tasks/pbv4_assign_adsets_dynamic.html">Assigning Ad Sets Dynamically</a> for details. </li>

                <li class="li"><strong class="ph b">Backlot API</strong>: With the Backlot API, you can associate an ad set with an
                    asset more concretely. When you associate an asset with an ad set using the
                    Backlot API, the asset and the ad set will be paired together on any player and
                    page on which you play the asset. See <a class="xref" href="../api/asset_ad_set.html" title="You can associate ad sets with videos, live streams, and remote assets. For information about creating ad sets, refer to the Backlot User Guide.">Associate Ad Sets with Assets</a> for details.</li>

            </ul>
</div>

        <div class="section" id="ads_dev_vast__params"><h2 class="title sectiontitle">Step 3: Integrate the VAST and VPAID Plugin with the Ooyala
                Player on the Page</h2>
            <div class="note note"><span class="notetitle">Note:</span> 
                <ul class="ul">
                    <li class="li">If you use Backlot to generate your HTML embed code, and you choose the
                            <strong class="ph b">V4 HTML5 Standard Player Embed Code (recommended)</strong> option, the
                        VAST and VPAID plugin is automatically included and should not be explicitly
                        added to the web page where you launch the player. For details, see <a class="xref" href="../tasks/publishing_manual_embed.html">Configuring Player Embed Settings in Backlot</a>.</li>

                    <li class="li">If you choose the <strong class="ph b">V4 HTML5 Player Embed Code (Advanced)</strong> option in
                        Backlot, or if you manually create the HTML embed code yourself, you need to
                        add the VAST and VPAID plugin to your web page so that the VAST and VPAID
                        plugin loads before the player is created. </li>

                </ul>

            </div>
 For every page on which you want to use the VAST and VPAID plugin with a player
            (regardless of how you associated VAST / VPAID ads with your videos): <div class="note note"><span class="notetitle">Note:</span> <span class="ph">Wherever you see <samp class="ph codeph"><span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span></samp> in sample code, replace
    this (in your code) with the URL that points to where the resource is hosted. For a list of
    Ooyala-hosted paths, see <a class="xref" href="pbv4_resources.html">Ooyala-hosted Player V4 Resources</a>. The URL can point to a location on the same host (internal link) or on
    a separate host (prefixed with <samp class="ph codeph">http://</samp> or <samp class="ph codeph">https://</samp>). If you
    host resources yourself (see <a class="xref" href="pbv4_host.html">Hosting Player V4 Resources</a>), be sure to
    check for any path dependencies within the files.</span></div>

            <ol class="ol">
                <li class="li">Add the <samp class="ph codeph">ad_manager_vast.min.js</samp> script to the page where you are
                    loading the player. You must load this plugin <em class="ph i">after</em> you load
                        <samp class="ph codeph">core.min.js</samp>.
                    <pre class="pre codeblock">&lt;script language=“javascript" src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/ad_manager_vast.min.js"&gt;&lt;/script&gt;</pre>
</li>

                <li class="li">Use the Player V4 <var class="keyword varname">OO.Player.create</var> function to create the
                    player.</li>

                <li class="li">Pass any global parameters. See <a class="xref" href="pbv4_configure_ads_embedded_params.html">Configuring Ad Parameters</a>.</li>

                <li class="li">Pass VAST ad tags to the Ooyala player using the <samp class="ph codeph">vast</samp> parameter
                    and its child parameters. See <a class="xref" href="pbv4_ads_dev_vast_parameters.html">VAST-Specific Embedded Parameters</a> for the list of key/value pairs
                    you can use with the <samp class="ph codeph">vast</samp> parameter.</li>

            </ol>

            <div class="note note"><span class="notetitle">Note:</span> In this version, you can override only the Ad Tag setting with a page-level
                parameter (<span class="keyword parmname">vast.tagUrl</span>). </div>
 The following example shows
            how to use VAST and VPAID plugin page-level parameters with Player V4.
            <pre class="pre codeblock">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;VAST Example&lt;/title&gt;
        &lt;!-- V4 JS core is required. Plugins such as skin, discovery and Advertising need to be loaded separately --&gt;
        &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/core.min.js"&gt;&lt;/script&gt;
        &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/other-plugin/discovery_api.min.js"&gt;&lt;/script&gt;
        &lt;!-- Change these html5-skin.min.css and html5-skin.js to your local build if necessary --&gt;
        &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/html5-skin.min.js"&gt;&lt;/script&gt;
        &lt;link rel="stylesheet" href="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/html5-skin.min.css"/&gt;
        &lt;!-- A Video Plugin is required. This example shows the Main Video Plugin --&gt;
        &lt;script src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/main_html5.min.js"&gt;&lt;/script&gt;
        &lt;!-- Ad module --&gt;
        &lt;script language=“javascript" src="<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/ad_manager_vast.min.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="container" style="width:640px; height:360px;"&gt;&lt;/div&gt;
        &lt;script&gt;
            var playerParam = {
              "pcode": "YOUR_PCODE",
              "playerBrandingId": "YOUR_PLAYER_ID",
              "skin": {
                // Config contains the configuration setting for player skin. Change to your local config when necessary.
                "config": "<span class="ph"><strong class="ph b"><em class="ph i">url_where_hosted</em></strong></span>/skin.json"
              },
              "vast": {
                 "all_ads":[
                   {
                     "position":0, 
                     "position_type":"t", 
                     "tag_url":"myUrl"
                    }
                  ]
               }
            };
            OO.ready(function() {
              window.pp = OO.Player.create("container", "YOUR_ASSET_ID", playerParam);
            }
                    );
        &lt;/script&gt;
    &lt;body&gt;
&lt;/html&gt;         </pre>

        </div>

    </div>


</body>
</html>