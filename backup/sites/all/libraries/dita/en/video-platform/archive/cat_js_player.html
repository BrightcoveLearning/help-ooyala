<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Player JavaScript APIs (Player V2 Deprecated)"/>
<meta name="abstract" content="Player/Player UI JavaScript APIs can be used to handle aspects of the player such as fullscreen mode, player state, volume, playhead, player volume and more."/>
<meta name="description" content="Player/Player UI JavaScript APIs can be used to handle aspects of the player such as fullscreen mode, player state, volume, playhead, player volume and more."/>
<meta name="DC.Relation" scheme="URI" content="../archive/player_api_js_intro.html"/>
<meta name="DC.Relation" scheme="URI" content="cat_as_assets.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="cat_js_player"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Player JavaScript APIs (Player V2 Deprecated)</title>
</head>
<body id="cat_js_player">


 <h1 class="title topictitle1">Player JavaScript APIs (Player V2 Deprecated)</h1>

 
 <div class="body refbody"><p class="shortdesc">Player/Player UI JavaScript APIs can be used to handle aspects of the player such as
  fullscreen mode, player state, volume, playhead, player volume and more.</p>

  <div class="section"><h2 class="title sectiontitle">Player and Player UI Properties</h2>
   <div class="note important"><span class="importanttitle">Important:</span> Ooyala Player V2 is deprecated and is scheduled
    to be <em class="ph i">disabled</em> on 2018-01-31. After that date, Player V2 will no longer play your video
    or audio content. Customers still using Player V2 need to migrate to Player V4 (see <a class="xref" href="../concepts/pbv4_about.html">Player V4</a>.</div>

   
   <p class="p">The following table describes all the JavaScript properties that are associated with a
    player.</p>

   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
     <thead class="thead" align="left">
      <tr class="row">
       <th class="entry" valign="top" id="d147354e40">Function</th>

       <th class="entry" valign="top" id="d147354e43">Description</th>

      </tr>

     </thead>

     <tbody class="tbody">
       
      
      
      
      
      
      
      
      
     <tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 ">
        <span class="keyword apiname">getState</span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><p class="p">Get current player state. </p>

              <p class="p">Format: Read-only </p>

              <p class="p">Type: String </p>

              <p class="p">Valid Values: One of playing, paused, buffering, channel, or error. </p>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">getActivePanel</span></td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><p class="p">Returns info, channels, embed or syndication if the respective panel is shown or an empty string, if not shown. </p>

<p class="p">Format: read-only </p>

<p class="p">Type: String</p>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">getDescription </span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><p class="p">Get the description of the player source. Typically this is the description entered for a video or audio asset in Backlot. This API
allows you to retrieve the entered description that was set in the Backlot <strong class="ph b">Manage &gt; Details</strong> tab or equivalent manual setting.
Format: read-only </p>

<p class="p">Type: String  </p>
  
<p class="p">Return Values: alphanumeric description of asset </p>

<p class="p">Example: "Season 22 Opening Game"       </p>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">getFullscreen </span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><p class="p">Returns true if in fullscreen mode, false if not.</p>

<p class="p">Format: Read-only </p>

<p class="p">Type: Boolean </p>

<p class="p">Valid Values: true | false      </p>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">getPlayheadTime/setPlayheadTime </span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><p class="p">Find where the playhead is, or move it to a new location in seconds with millisecond accuracy. </p>

<p class="p">Type: Number </p>

<p class="p">Valid Values: duration in seconds</p>

   </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">getVolume</span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 ">
        <p class="p">Get the current volume. </p>

<p class="p">Type: Number </p>

<p class="p">Valid Values: a number between 0 and 1 inclusive </p>

      </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">setModuleParams</span></td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><p class="p">When the player loads modules, pass data to the module(s) using a callback function. Use this function with the  <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters"><samp class="ph codeph">hasModuleParams</samp></a> 
query string parameter.  What the <samp class="ph codeph">hasModuleParams</samp>=1 parameter does is signal to the player that it should wait for custom data to be sent via the <samp class="ph codeph">setModuleParams</samp> function. </p>

        
        <p class="p">Type: Object </p>

        <p class="p">Valid Values: a key value pair</p>

        <p class="p">Usage: The <samp class="ph codeph">setModuleParams</samp> function is used with the <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters"><samp class="ph codeph">hasModuleParams</samp></a> as a more efficient method of 
passing parameters to the player.js than by using thruParams. We recommend using <samp class="ph codeph">setModuleParams</samp> with <samp class="ph codeph">hasModuleParams</samp> over the
         use of <samp class="ph codeph">thruParams</samp>.  The  <samp class="ph codeph">setModuleParams</samp> takes an object of key-value pairs. </p>

<p class="p">Example: If you want to add parameters to your script embed, you would use the <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters"><samp class="ph codeph">hasModuleParams</samp></a> and a callback in the embed string, 
as shown in the following example: </p>
<pre class="pre codeblock">&lt;script src="http://player.ooyala.com/player.js? ... hasModuleParams=1&amp;callback=playerAPICallback"&gt;&lt;/script&gt;</pre>

<p class="p">In the following example, you set <samp class="ph codeph">hasModuleParams</samp> to 1, while the callback can be any function. You also need to add the callback function in JavaScript elsewhere on your page. 
In the callback, you wait for the <samp class="ph codeph">playerEmbedded</samp> event and call <samp class="ph codeph">setModuleParams</samp>. The following example provides a callback function for a <samp class="ph codeph">hasModuleParams</samp>:</p>

        <pre class="pre codeblock">// callback function
function playerAPICallback(playerId, eventName, parameters) {
  // the callback gets called when events are fired (here, wait for the playerEmbedded event)
  if (eventName == "playerEmbedded") {
    document.getElementById(playerId).setModuleParams({
      // include any module parameters as an object of key-value pairs, example below
      "doubleclick" : {
        "tagUrl" : "http://ad.doubleclick.net/pfadx/N270.132652.1516607168321/B3442378.3;dcadv=1379578;sz=0x0;ord=79879;dcmt=text/xml"
      }
    });
  }
}</pre>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">setQueryStringParameters</span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 ">Set the query string parameters for the current player. See the topic <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters">"Query String
        and Pass-Through Parameters"</a>in this document.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" headers="d147354e40 d147354e43 "><span class="keyword apiname">setVolume</span>
       </td>

       <td class="entry" valign="top" headers="d147354e40 d147354e43 ">Set the current volume. Type: Number Valid Values: a number between 0 and 1
        inclusive</td>

      </tr>
</tbody>

    </table>
</div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Player/Player UI Event Handling</h2>
   
   <p class="p">The following table describes all the JavaScript events that are associated with a player.</p>

   
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
     
     
     
     <thead class="thead" align="left">
      <tr class="row">
       <th class="entry" valign="top" width="16.611295681063122%" id="d147354e324">Event</th>

       <th class="entry" valign="top" width="36.37873754152824%" id="d147354e327">Parameters of the third argument to callback</th>

       <th class="entry" valign="top" width="47.00996677740864%" id="d147354e330">Description</th>

      </tr>

     </thead>

     <tbody class="tbody">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
     <tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 ">
        <span class="keyword apiname">activePanelChanged</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 "><p class="p">activePanel </p>

<p class="p">Type: Object </p>

       </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">The Info, Embed, Share or Channel panel has been exposed or hidden.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 ">
        <span class="keyword apiname">playheadTimeChanged( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 "><p class="p">playheadTime </p>

<p class="p">Type: Hash  </p>
     
</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">The playhead has been moved.
      </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">apiReady( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">Type: Object</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">The player is ready to receive API requests like <span class="keyword apiname">playMovie()</span>,
         <span class="keyword apiname">getItem()</span>, etc. Wait for this event to be dispatched before making any
        API requests. This event is fired each time the player's embedCode is changed. The embed code
        can be changed using <span class="keyword apiname">setEmbedCode()</span> or
         <span class="keyword apiname">setQueryStringParameters()</span>.
        <p class="p"><strong class="ph b">Note</strong>: Version 2 and onward.</p>
</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">fullscreenChanged( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">
        <p class="p">Cancelable </p>

        <p class="p">Type: String </p>

        <p class="p">Parameters: (format, source, type) </p>

        <p class="p">Example: (video, doubleClick, adStarted)</p>

       </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">Full-screen state has been toggled. </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">loadComplete( )</span></td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">Type: Object</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">Player has been initialized. This is deprecated; use the <span class="keyword apiname">apiReady</span>
        event instead.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">metadataReady( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 "><p class="p">metadata </p>

<p class="p">Type: String </p>

<p class="p">Valid Values: Each name/value pair has two properties: name and value </p>

<p class="p">Example: <samp class="ph codeph">{ name: "actor", value: "Johnny Depp"}</samp> </p>
</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 "><p class="p">The metadata requested by the <span class="keyword apiname">fetchMetadata()</span> call is now ready. 
        The metadata property is an array of name/value pairs.</p>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">playComplete( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">Type: Void</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 "><p class="p">The video or channel has completed.</p>
</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">playerEmbedded</span></td>
<td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">Type: Object </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">A player.js embedded on a web page fires this event and triggers a callback. For
        example,<pre class="pre codeblock">{
  // the callback gets called when events are fired (here, wait for the playerEmbedded event)
  if (eventName == "playerEmbedded") {
  ... </pre>
This
        event is used with the <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters"><span class="keyword apiname">hasModuleParams</span></a> query string parameter, the
         <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters"><span class="keyword apiname">setModuleParams</span></a> function and the <a class="xref" href="cat_qstr_player.html" title="Lists and describes all Player Query String Parameters"><span class="keyword apiname">callback</span></a> query string parameter.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">ratingsApiReady( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 "> </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">The ratings API has loaded and is now ready for use. This event is dispatched after
         <span class="keyword apiname">loadRatingsApi()</span> is called.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">relatedMediaReady( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">relatedMedia. The <span class="keyword apiname">relatedMedia</span> property is an array of media
        items.<p class="p">Each item has a title, description, time, promo, and embedCode.</p>
</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">
        <p class="p">The related media requested by the <span class="keyword apiname">fetchRelatedMedia()</span> call is now
         ready. </p>

       </td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">seeked( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 "><p class="p">newPlayheadTime, oldPlayheadTime </p>

       <p class="p">Type: Hash </p>

</td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">A seek event happened in the player. This event can be triggered in two ways: 
        <ul class="ul" id="cat_js_player__ul_seek_list">
         <li class="li">a user moves the scrubber bar </li>

         <li class="li">The API request <span class="keyword apiname">setPlayheadTime</span> is made </li>

        </ul>
<p class="p"><strong class="ph b">Note</strong>: The event is registered when the user releases the scrubber bar.</p>
</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">stateChanged( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">
        <p class="p">state, errorCode, errorText </p>

        <p class="p">Type: Object </p>

        <p class="p">Valid Values: playing | paused | buffering | error </p>

       </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">The state has changed between playing, paused, buffering, or error.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">totalTimeChanged( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">
        <p class="p">totalTime </p>

        <p class="p">Type: Hash  </p>

       </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">Total time of the item has changed.</td>

      </tr>
<tr class="row">
       <td class="entry" valign="top" width="16.611295681063122%" headers="d147354e324 "><span class="keyword apiname">volumeChanged( )</span>
       </td>

       <td class="entry" valign="top" width="36.37873754152824%" headers="d147354e327 ">
        <p class="p">volume  </p>

        <p class="p">Type: Hash    </p>

       </td>

       <td class="entry" valign="top" width="47.00996677740864%" headers="d147354e330 ">The volume has changed. </td>

      </tr>
</tbody>

    </table>
</div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Related Information </h2>
   
   <p class="p">The following list provides links to Backlot documentation that provides some general
    information about players.</p>

   <ul class="ul">
    <li class="li"><a class="xref" href="../api/players_core.html" title="When you create a player and assign it to one or more assets in your account, it defines the playback options and the look and feel of your content.">Managing Players Using the Backlot REST API</a></li>

    <li class="li"><a class="xref" href="../api/players.html">Players (Backlot REST API)</a></li>

    <li class="li"><a class="xref" href="../concepts/chapter_players.html" title="Describes how to create and configure Ooyala players using the Backlot UI.">Managing Players in Backlot</a></li>

   </ul>

  </div>

 </div>

 <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="player_api_js_intro.html" title="Ooyala Player JavaScript APIs enable you to use this popular scripting language to customize the Ooyala Player and video experience.">Player JavaScript APIs (Player V2 Deprecated)</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a class="link" href="cat_as_assets.html" title="Assets ActionScript APIs can be used to handle ratings, videos (play/pause, describe), and channels.">Assets ActionScript APIs (Player V2 Deprecated)</a></div>
</div>
</div>

</body>
</html>