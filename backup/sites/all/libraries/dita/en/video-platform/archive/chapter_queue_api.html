<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Ooyala Discovery Queue (Deprecated)"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/book_archive.html"/>
<meta name="DC.Relation" scheme="URI" content="../archive/discovery_queue.html"/>
<meta name="DC.Relation" scheme="URI" content="../archive/discovery_watchlist.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="chapter_schedule_api"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Ooyala Discovery Queue (Deprecated)</title>
</head>
<body id="chapter_schedule_api">


 <h1 class="title topictitle1">Ooyala Discovery Queue (Deprecated)</h1>

 <div class="body conbody">
  <div class="section">
   <div class="note important"><span class="importanttitle">Important:</span> The Queue API is disabled. Contact your Ooyala representative for information about alternative options.</div>

  </div>

  <div class="section">
  <p class="p">When viewer recommendations are discovered, use the Discovery Queue API to let the viewer add
   them to the viewer's queue. Videos may only be by the video owner (provider). </p>

  <p class="p">User authentication in Discovery Queue is based on Ooyala's Rights Locker. For more information
   see <a class="xref" href="../concepts/chapter_rightslocker.html">Rights Locker</a>.</p>

  <div class="p">The basic sequence of the Discovery Queue API methods is as follows: <ol class="ol">
    <li class="li">When a viewer wants to add an item to the queue, use <samp class="ph codeph">[PUT]
       /v2/discovery/queue/assets/<var class="keyword varname">asset_id</var></samp> and arguments.</li>

    <li class="li">When you want to display the viewer's queue and its items, use <samp class="ph codeph">[GET]
      /v2/discovery/queue</samp> to get a list of the assets and then use <samp class="ph codeph">[GET]
      /v2/assets</samp> to retrieve the details for each individual asset</li>

    <li class="li">When a viewer wants to remove an item from the queue, use <samp class="ph codeph">[DELETE]
       /v2/discovery/queue/<var class="keyword varname">asset_id</var></samp></li>

   </ol>
</div>

  </div>

  <div class="section"><h2 class="title sectiontitle">Add asset to viewer's queue</h2>
   <p class="p">This example adds a new asset to the queue for
    viewer
   ihqwv9uw1eflbkcqwpou.</p>
<pre class="pre codeblock">[PUT]/v2/discover/queue/viewers/<kbd class="ph userinput">account_id</kbd>/assets/<kbd class="ph userinput">embedCode</kbd></pre>

   The <span class="ph">Backlot API</span> responds similarly to the following:
   <pre class="pre codeblock">"added_at":1363617641</pre>
</div>

  <div class="section"><h2 class="title sectiontitle">List viewer's queue</h2>
   
   <p class="p">The following example lists the entire queue belonging to viewer. </p>

   <pre class="pre codeblock">[GET]/v2/discover/queue/viewers/<kbd class="ph userinput">account_id</kbd></pre>

   <p class="p">When multiple assets have been added to a queue, the response looks like the following. With
    this array of asset-ids, use <samp class="ph codeph">[GET] /v2/assets</samp> to retrieve the individual asset
    details, including metadata.</p>

   <pre class="pre codeblock">[  
   "RsYmduMjpNE3RGHOTa6Chm-YoxArCqiw",
   "ZoYmduMjpBbLj3QerkWScewtpPnvmOi2",
   "pxcm9lMzpfyODDtj1LiplPwnxmqm5JdM"
]            </pre>

  </div>

  <div class="section"><h2 class="title sectiontitle">Remove a single asset from viewer's queue</h2>
   
   <p class="p">The following example removes an item from viewer ihqwv9uw1eflbkcqwpou's queue.</p>

   <pre class="pre codeblock">[DELETE]/v2/discover/queue/viewers/<kbd class="ph userinput">account_id</kbd>/assets/<kbd class="ph userinput">embedCode</kbd></pre>

   <p class="p">A successful call returns no response body. </p>

  </div>

  <div class="section"><h2 class="title sectiontitle">Remove all asset from viewer's queue</h2>
   
   <p class="p">The following example removes an item from viewer ihqwv9uw1eflbkcqwpou's queue.</p>

   <pre class="pre codeblock">[DELETE]/v2/discover/queue/viewers/<kbd class="ph userinput">account_id</kbd></pre>

   <p class="p">A successful call returns no response body. </p>

   <div class="note note"><span class="notetitle">Note:</span>  Try out the code samples using your account credentials in the
            Ooyala Scratchpad. To launch the Scratchpad, go
            to <span class="ph">Ooyala <a class="xref" href="https://api.ooyala.com/docs/api_scratchpad" target="_blank">API Scratchpad</a></span>. For information about using the Scratchpad, see <a class="xref" href="../concepts/api_scratchpad.html" title="You can make practice requests on the scratchpad.">Practice Making Requests with the Scratchpad</a>. </div>

  </div>

 </div>

<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="discovery_queue.html">Discovery Queue (Deprecated)</a></strong><br/>
</li>
<li class="link ulchildlink"><strong><a href="discovery_watchlist.html">Managing Queues (Deprecated)</a></strong><br/>
Use the Discovery API to include features for a queue of videos or live streams for     playing at the viewer's convenience.</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../concepts/book_archive.html" title="Welcome to the Ooyala Archive, which contains documentation for deprecated features, tools, and APIs.">Archive</a></div>
</div>
</div>

</body>
</html>