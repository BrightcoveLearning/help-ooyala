<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Managing Queues (Deprecated)"/>
<meta name="abstract" content="Use the Discovery API to include features for a queue of videos or live streams for playing at the viewer's convenience."/>
<meta name="description" content="Use the Discovery API to include features for a queue of videos or live streams for playing at the viewer's convenience."/>
<meta name="DC.Relation" scheme="URI" content="../archive/chapter_queue_api.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="queues"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Managing Queues (Deprecated)</title>
</head>
<body id="queues">


  <h1 class="title topictitle1">Managing Queues (Deprecated)</h1>

  
  <div class="body refbody"><p class="shortdesc">Use the Discovery API to include features for a queue of videos or live streams for
    playing at the viewer's convenience.</p>

    <div class="section">
      <div class="note important"><span class="importanttitle">Important:</span> The Queue API is disabled. Contact your Ooyala representative for information about alternative options.</div>

    </div>
 
    <div class="section">
      <p class="p">A Discovery Queue is a list of assets, each with expiration date, position of playback
        (playhead, or position of last play), and other information. A queue belongs to a particular
        viewer, who is the only person who can view it or manipulate it. You do not need to create
        the queue. You only need to add or delete items from it.</p>

      <div class="p">A viewer can add any asset to his queue. The item stays in the queue until one of the
        following conditions is met:<ul class="ul" id="queues__ul_osv_bdr_2j">
          <li class="li">The associated asset itself is deleted or the associated live event concludes and has
            no "reruns" (VOD versions of the live stream).</li>

          <li class="li">The asset is viewed in its entirety.</li>

        </ul>
</div>
</div>

    <div class="section refsyn"><h2 class="title sectiontitle">Add an asset to a viewer's queue</h2>
      <pre class="pre codeblock">[PUT]/v2/discover/queue/[asset|live_asset]/<a class="xref" href="#queues__discovery_queue_asset_id"><kbd class="ph userinput">asset_id</kbd></a>{
   "expires_at" : "<kbd class="ph userinput">dateTimeInISO8601-UTCformat</kbd>"
}</pre>

    </div>

    <div class="section refsyn"><h2 class="title sectiontitle">View a queue</h2>
      <pre class="pre codeblock">[GET]/v2/discover/queue</pre>

    </div>

    <div class="section refsyn"><h2 class="title sectiontitle">Delete an item from a queue</h2>
      <pre class="pre codeblock">[DELETE]/v2/discover/queue/[asset|live_asset]/<a class="xref" href="#queues__discovery_queue_asset_id"><kbd class="ph userinput">asset_id</kbd></a></pre>

    </div>

    <div class="section"><h2 class="title sectiontitle">Route Attributes</h2>
      
      <p class="p">The following table describes all attributes that can be expressed through the route.</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="36.36363636363637%" id="d155661e93">Route Attribute</th>

              <th class="entry" valign="top" width="63.63636363636363%" id="d155661e96">Description</th>

            </tr>

          </thead>

          <tbody class="tbody">
            
            
          <tr class="row">
              <td class="entry" valign="top" width="36.36363636363637%" headers="d155661e93 ">[<samp class="ph codeph">assets</samp>|<samp class="ph codeph">live_assets</samp>]</td>

              <td class="entry" valign="top" width="63.63636363636363%" headers="d155661e96 ">The type of asset being added to a queue<p class="p">Type: String</p>
<p class="p">Default: None
                  </p>
<p class="p">Example: [PUT]
                  /v2/discover/queue/viewers/54321/asset/2162e39c331d407d9176895f34e36af8</p>
</td>

            </tr>
<tr class="row">
              <td class="entry" valign="top" width="36.36363636363637%" headers="d155661e93 "><var class="keyword varname" id="queues__discovery_queue_asset_id">asset_id</var></td>

              <td class="entry" valign="top" width="63.63636363636363%" headers="d155661e96 ">Asset ID (embed code, or content ID). You can add (PUT) an asset to a viewer's
                queue only if you are the owner (provider) of it.<p class="p">Type: String</p>
<p class="p">Default:
                  None</p>
<p class="p">Example: pxcm9lMzpfyOKKtj1LiplPwn3eqm67dM </p>
</td>

            </tr>
</tbody>

        </table>
</div>

    </div>

    <div class="section"><h2 class="title sectiontitle">Query String Parameters</h2>
      
      <p class="p">The following table describes all parameters of the query string.</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="22.22222222222222%" id="d155661e166">Parameter</th>

              <th class="entry" valign="top" width="55.55555555555556%" id="d155661e169">Description</th>

              <th class="entry" valign="top" width="22.22222222222222%" id="d155661e172">Required?</th>

            </tr>

          </thead>

          <tbody class="tbody">
            
          <tr class="row">
              <td class="entry" valign="top" width="22.22222222222222%" headers="d155661e166 ">order_by</td>

              <td class="entry" valign="top" width="55.55555555555556%" headers="d155661e169 ">
                <p class="p">The field to sort on. </p>

                <p class="p">Type: String </p>

                <p class="p">Default: none </p>

                <p class="p">Valid Values:
                    <samp class="ph codeph">expires_at</samp>[<samp class="ph codeph">-desc</samp>|<samp class="ph codeph">-asc</samp>] |
                    <samp class="ph codeph">added_at</samp>[<samp class="ph codeph">-desc</samp>|<samp class="ph codeph">-asc</samp>] |
                    <samp class="ph codeph">now_playing</samp> |
                    <samp class="ph codeph">last_watched_at</samp>[<samp class="ph codeph">-desc</samp>|<samp class="ph codeph">-asc</samp>]
                  where <samp class="ph codeph">desc</samp> and <samp class="ph codeph">asc</samp> are descending or ascending
                  sort order.</p>

                <p class="p">Examples: [GET]
                  /v2/discover/queue/viewers/091iut98ycbkdwp9y8fwjhk?orderby=expires_at-asc </p>

              </td>

              <td class="entry" valign="top" width="22.22222222222222%" headers="d155661e172 ">No</td>

            </tr>
</tbody>

        </table>
</div>

    </div>

    <div class="section"><h2 class="title sectiontitle">Properties</h2>
      
      <p class="p">The following table describes all properties that can be associated with a queue.</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="22.22222222222222%" id="d155661e270">Property</th>

              <th class="entry" valign="top" width="55.55555555555556%" id="d155661e273">Description</th>

              <th class="entry" valign="top" width="22.22222222222222%" id="d155661e276">Required?</th>

            </tr>

          </thead>

          <tbody class="tbody">
            
          <tr class="row">
              <td class="entry" valign="top" width="22.22222222222222%" headers="d155661e270 "><span class="keyword parmname">expires_at</span></td>

              <td class="entry" valign="top" width="55.55555555555556%" headers="d155661e273 "><p class="p">Expiration date/time of asset in ISO-8601/UTC format</p>

                <p class="p">Type: dateTime</p>

                <p class="p">Default: no expiration </p>

                <p class="p">Example: "2014-04-15T21:00Z" </p>

              </td>

              <td class="entry" valign="top" width="22.22222222222222%" headers="d155661e276 ">No</td>

            </tr>
</tbody>

        </table>
</div>

    </div>

    <div class="section"><h2 class="title sectiontitle">Examples</h2>
            This example adds the asset 2162e39c331d407d9176895f34e36af8 to
            the queue associated with viewer 54321, with an optional expiration date/time. <pre class="pre codeblock">[PUT]/v2/discover/queue/viewers/54321/assets/54321/2162e39c331d407d9176895f34e36af8{  
   "expires_at":"2013-08-15T21:00Z",
}</pre>

            <p class="p"><span class="ph">Backlot</span> returns a response similar to the following:</p>

            <pre class="pre codeblock">{  
   "added_at":1363617641
}</pre>

            <div class="sectiondiv"> This example retrieves the queue for viewer 091iut98ycbkdwp9y8fwjhk. <pre class="pre codeblock">[GET]/v2/discover/queue/viewers/091iut98ycbkdwp9y8fwjhk</pre>

                <p class="p"><span class="ph">Backlot</span> returns a response similar to the
                    following:</p>

                <pre class="pre codeblock">[  
   "RsYmduMjpNE3RGHOTa6Chm-YoxArCqiw",
   "ZoYmduMjpBbLj3QerkWScewtpPnvmOi2",
   "pxcm9lMzpfyODDtj1LiplPwnxmqm5JdM"
]</pre>

                <div class="note note"><span class="notetitle">Note:</span>  Try out the code samples using your account credentials in the
            Ooyala Scratchpad. To launch the Scratchpad, go
            to <span class="ph">Ooyala <a class="xref" href="https://api.ooyala.com/docs/api_scratchpad" target="_blank">API Scratchpad</a></span>. For information about using the Scratchpad, see <a class="xref" href="../concepts/api_scratchpad.html" title="You can make practice requests on the scratchpad.">Practice Making Requests with the Scratchpad</a>. </div>

            </div>
        </div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="chapter_queue_api.html">Ooyala Discovery Queue (Deprecated)</a></div>
</div>
</div>

</body>
</html>