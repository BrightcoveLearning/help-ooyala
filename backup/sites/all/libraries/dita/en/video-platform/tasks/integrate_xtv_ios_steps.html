<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Create an iOS Development Project for XTV"/>
<meta name="abstract" content="You need to set up a project for iOS development."/>
<meta name="description" content="You need to set up a project for iOS development."/>
<meta name="DC.Relation" scheme="URI" content="../concepts/integrate_xtv_ios_overview.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="player_v3_dev_buildwinapp"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Create an iOS Development Project for XTV</title>
</head>
<body id="player_v3_dev_buildwinapp">


 <h1 class="title topictitle1">Create an iOS Development Project for XTV</h1>

 

 <div class="body taskbody"><p class="shortdesc"> You need to set up a project for iOS development. </p>

  <div class="section context">
   <p class="p">In our example, we are using the Xcode IDE. The Apple Xcode tool will help with your iOS
    development effort. To get started with your development project, launch your Xcode app.
     <strong class="ph b">Note: </strong>You need to be able to configure for DLNA Playback and be able to test your setup.
    An example is provided in Appendix A.</p>

  </div>

  <ol class="ol steps"><li class="li step stepexpand">
    <span class="ph cmd">Create a New XTV Project </span>
    <ol type="a" class="ol substeps">
     <li class="li substep substepexpand">
      <span class="ph cmd"> Select <span class="ph uicontrol">Create a new Xcode project</span>.</span>
       <img class="image" src="../image/xtvios2.png" height="260" width="402"/>
     </li>

     <li class="li substep substepexpand">
      <span class="ph cmd">Select a template for your new application. In the following example, we selected the
       Single View Application.</span>
       <img class="image" src="../image/xtvios5.png" height="245" width="365"/>
     </li>

    </ol>

   </li>
<li class="li step stepexpand">
    <span class="ph cmd">Name Your Project</span>
     <p class="p">Enter the options for your project. Provide a Product Name (your application name),
      select the device (iPhone) and any other relevant option.</p>

     <img class="image" src="../image/xtvios4.png" height="246" width="365"/>
   </li>
<li class="li step stepexpand">
    <span class="ph cmd">Import Required Libraries</span>
     <p class="p">Your next step is to import some required libraries from the iOS SDK and XTV Connect
      DLNA for iOS SDK.</p>

     <img class="image" src="../image/xtvios3.png" height="228" width="367"/>
     <div class="p">Here is a list of all of the files that you need to import into your project. <ul class="ul">
       <li class="li"><samp class="ph codeph">AssetsLibrary.framework</samp></li>

       <li class="li"><samp class="ph codeph">AudioToolbox.framework</samp></li>

       <li class="li"><samp class="ph codeph">AVFoundation.framework</samp></li>

       <li class="li"><samp class="ph codeph">CFNetwork.framework</samp></li>

       <li class="li"><samp class="ph codeph">CoreGraphics.framework</samp></li>

       <li class="li"><samp class="ph codeph">CoreMedia.framework</samp></li>

       <li class="li"><samp class="ph codeph">CoreText.framework</samp></li>

       <li class="li"><samp class="ph codeph">Foundation.framework</samp></li>

       <li class="li"><samp class="ph codeph">MediaPlayer.framework</samp></li>

       <li class="li"><samp class="ph codeph">Security.framework</samp></li>

       <li class="li"><samp class="ph codeph">SystemConfiguration.framework</samp></li>

       <li class="li"><samp class="ph codeph">UIKit.framework</samp></li>

       <li class="li"><samp class="ph codeph">libc++.dylib</samp></li>

       <li class="li"><samp class="ph codeph">libxml2.dylib</samp></li>

      </ul>
</div>

   </li>
<li class="li step stepexpand">
    <span class="ph cmd">Copy Library, Data, Headers</span>
    <ol type="a" class="ol substeps">
     <li class="li substep substepexpand">
      <span class="ph cmd">Open the Ooyala iOS SDK.</span>
     </li>

     <li class="li substep substepexpand">
      <span class="ph cmd">Drag and drop the iOS SDK Headers folder into your Xcode development tool.</span>
     </li>

     <li class="li substep substepexpand">
      <span class="ph cmd">Open the Ooyala XTV Connect DLNA plug-in SDK.</span>
     </li>

     <li class="li substep substepexpand">
      <span class="ph cmd">Drag and drop the XTV Connect DLNA SDK plug-in Headers folder into your Xcode development
       tool.</span>
       <img class="image" src="../image/xtvios6.png" height="201" width="195"/>
     </li>

    </ol>

   </li>
<li class="li step stepexpand">
    <span class="ph cmd">Edit the View Controller</span>
     You will add the following lines of code to the ViewController. Obtain your provider ID
     (PCODE) from your Backlot account. For more information about this, see the topic <a class="xref" href="../concepts/api_keys.html" title="Your Ooyala API credentials include your API key and secret, which you provide to sign HTTP requests and when using the scratchpad.">Your API Keys</a>.
   </li>
<li class="li step stepexpand">
    <span class="ph cmd">Add your PCODE to and your player's domain (such as
       <strong class="ph b"><samp class="ph codeph">http://www.ooyala.com</samp></strong>) to the line:</span>
     
     <pre class="pre codeblock">d[[ OODlnaPlayerViewController alloc ]Â <strong class="ph b">initWithPcode:PCODE domain:[[OOPlayerDomain alloc]
    initWithString:PLAYERDOMAIN];</strong></pre>

    
   </li>
<li class="li step stepexpand">
    <span class="ph cmd">You need to specify your embed code (you can get this from Backlot) for this statement:
      <samp class="ph codeph">[ooyalaPlayerViewController.player setEmbedCode:EMBED_CODE];</samp></span>
   </li>
<li class="li step stepexpand">
    <span class="ph cmd">You can cut and paste the lines of code in the following example as needed. You do need to
     make sure that you provide your specific pcode and embed code. </span>
     
     <pre class="pre codeblock">
#import "ViewController.h"

 // Create Ooyala ViewController
  ooyalaPlayerViewController = [[ OODlnaPlayerViewController alloc ] <strong class="ph b">initWithPcode:PCODE domain:[[OOPlayerDomain alloc]
    initWithString:PLAYERDOMAIN]; </strong>

  // Attach it to current view
  [self addChildViewController:ooyalaPlayerViewController];

  // Set player frame &amp;&amp; attach the view
  [ooyalaPlayerViewController.view setFrame:self.view.frame];
  [self.view addSubview:ooyalaPlayerViewController.view];

  // Load the video
  [ooyalaPlayerViewController.player setEmbedCode:EMBED_CODE];
    </pre>

     <p class="p">You now have everything in place to run your build.</p>

    
   </li>
<li class="li step stepexpand">
    <span class="ph cmd">Build Your Project</span>
      After you have copied all the necessary components into your development environment,
     select <span class="ph uicontrol">Run</span> to build your project. If successful, you will be able to use
     XBMC to see your results.
   </li>
</ol>

  <div class="section postreq">
   <p class="p"><strong class="ph b">Troubleshooting</strong></p>

   <p class="p">If you have any trouble with your build or build results, try running through the following
    troubleshooting tips.</p>

   <ul class="ul">
    <li class="li">Verify that your devices are all on the same wifi network and that the following ports are
     open for the indicated protocols: <ul class="ul">
      <li class="li">UDP: port 1900</li>

      <li class="li">TCP: port 2869</li>

     </ul>
</li>

    <li class="li">Make sure the data directory is properly bundled with your app. If this is incorrectly
     configured, a log message is generated: <pre class="pre codeblock">Device DB not installed    </pre>
</li>


    <li class="li">Verify your setup with XBMC DLNA/Airplay renderers. See <a class="xref" href="integrate_xtv_testing_with_xbmc.html">Using XBMC to Configure and Test DLNA Playback</a>.</li>

   </ul>

  </div>

 </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../concepts/integrate_xtv_ios_overview.html" title="To increase engagement with your content, Ooyala provides SDKs, code samples, and other tools to enable you to view your content on connected TVs.">XTV Connect SDK for iOS</a></div>
</div>
</div>

</body>
</html>