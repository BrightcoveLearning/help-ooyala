<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Event Publish and Subscribe in Player V3 (Deprecated)"/>
<meta name="abstract" content="You can publish and subscribe to messages for event handling."/>
<meta name="description" content="You can publish and subscribe to messages for event handling."/>
<meta name="DC.Relation" scheme="URI" content="../reference/player_v3_dev_listenevent.html"/>
<meta name="DC.Relation" scheme="URI" content="../reference/player_v3_dev_listen_multi_event.html"/>
<meta name="DC.Relation" scheme="URI" content="../reference/player_v3_dev_advancedevent.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="player_v3_dev__pubsub"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Event Publish and Subscribe in Player V3 (Deprecated)</title>
</head>
<body id="player_v3_dev__pubsub">


 <h1 class="title topictitle1">Event Publish and Subscribe in Player V3 (Deprecated)</h1>

 
 <div class="body refbody"><p class="shortdesc"> You can publish and subscribe to messages for event handling.</p>

  <div class="section"><h2 class="title sectiontitle">Create, Connect, Check, and Load</h2>
   <div class="note important"><span class="importanttitle">Important:</span> Ooyala Player V3 is deprecated and is scheduled
    to be <em class="ph i">disabled</em> on 2018-01-31. After that date, Player V3 will no longer play your video
    or audio content. Customers still using Player V3 need to migrate to Player V4 (see <a class="xref" href="../concepts/pbv4_migration_v3.html">Migrating from Player V3</a> and <a class="xref" href="../concepts/pbv4_migration_faq.html">Player Migration FAQ</a>).</div>

   The player message bus provides a means
   for modules to publish and subscribe to messages for event handling. It uses
    <samp class="ph codeph">OO.Player.create</samp> and <samp class="ph codeph">onCreate</samp> to create a message bus, connect
   modules to the message bus, check for 3rd party modules and connect them and then load
   everything.</div>

  <div class="section">
   <p class="p"><strong class="ph b">OO.Player.create</strong></p>

    <p class="p">When called, the <span class="keyword apiname">OO.Player.create()</span> function:</p>

    <ul class="ul">
     <li class="li">Creates a new message bus.</li>

     <li class="li">Goes over the list of registered modules and creates all of them.</li>

     <li class="li">Connects all the registered modules to the message bus.</li>

    </ul>

   <p class="p"><strong class="ph b">onCreate</strong></p>

   <p class="p">When called, <span class="keyword apiname">function onCreate(player)</span>: </p>

   <ul class="ul">
    <li class="li">Checks for any additional modules (custom, 3rd party or other type).</li>

    <li class="li">Enables these additional modules to connect to the message bus.</li>

    <li class="li">Sends a message to the message bus signaling each module to start up.</li>

   </ul>

   <p class="p">You must call <samp class="ph codeph">onCreate()</samp> before anything can happen; otherwise, the existing
    and additional or third-party modules are not connected to the message bus and are not
    initialized.</p>

  </div>

  <div class="section"><h2 class="title sectiontitle">Comparing Player V3 and V2 Event Handling</h2>
   
   <p class="p">The simplest way to handle events in Player V2 is to define a callback function, then pass its
    name to the embed tag using the callback parameter. In the current player (Ooyala V3 Player), to
    handle events, specify an <samp class="ph codeph">onCreate</samp> function that registers for messages in the
    embedded parameters to the <span class="keyword apiname">OO.Player.create()</span> call. For example:</p>

   <pre class="pre codeblock">     
    function onCreate(player) {
       player.mb.subscribe('*','myPage', function(eventName) {});       
    }

    OO.Player.create('playerwrapper',embedCode, {
      onCreate: window.onCreate
    });
   </pre>

  </div>

 </div>

 <div class="related-links"><div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a class="link" href="player_v3_dev_listenevent.html" title="You can use the message bus to listen to a single event or multiple events.">Listening to a Message Bus Event in Player V3 (Deprecated)</a></div>
<div><a class="link" href="player_v3_dev_listen_multi_event.html" title="You can use the message bus to listen to multiple events.">Listening to Multiple Message Bus Events in Player V3 (Deprecated)</a></div>
<div><a class="link" href="player_v3_dev_advancedevent.html" title="You can customize what messages that you want to receive.">Advanced Event Handling in Player V3 (Deprecated)</a></div>
</div>
</div>

</body>
</html>