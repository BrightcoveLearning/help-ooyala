<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Supported Closed Caption DFXP (now TTML) Format"/>
<meta name="abstract" content="Closed caption files that you upload to Backlot must be in a supported format. The DFXP format (now TTML) is a popular supported format."/>
<meta name="description" content="Closed caption files that you upload to Backlot must be in a supported format. The DFXP format (now TTML) is a popular supported format."/>
<meta name="DC.Relation" scheme="URI" content="../concepts/book_standards.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/closed_captions_ingest.html"/>
<meta name="DC.Relation" scheme="URI" content="closed_caption_language.html"/>
<meta name="DC.Relation" scheme="URI" content="../concepts/ingestion_fileformats.html"/>
<meta name="DC.Relation" scheme="URI" content="closed_caption_language.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="dfxp_format"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../css/ooyala.css"/>
<title>Supported Closed Caption DFXP (now TTML) Format</title>
</head>
<body id="dfxp_format">


  <h1 class="title topictitle1">Supported Closed Caption DFXP (now TTML) Format</h1>

  
  <div class="body refbody"><p class="shortdesc">Closed caption files that you upload to Backlot must be in a supported format. The DFXP
    format (now TTML) is a popular supported format. </p>

    <div class="section"><div class="note note"><span class="notetitle">Note:</span> Ooyala supports other closed caption formats. For details, see <a class="xref" href="closed_caption_language.html" title="Before uploading closed caption files to Backlot, verify that you are using a supported language and file format.">Supported Closed Captions</a>.</div>

      <div class="note note"><span class="notetitle">Note:</span> The Ooyala Web Player utilizes WebVTT. If a TTML file is uploaded, the Ooyala Player will utilize a WebVTT file that is converted from the TTML file, which will remove styling.</div>
</div>

    
    <div class="section"><h2 class="title sectiontitle">Supported DFXP Format</h2>
      <div class="note note"><span class="notetitle">Note:</span>  DFXP (now TTML) is used as a familiar term for
        closed caption formats. However, the specification is now called TTML.</div>
 Among the DFXP
      formats, Ooyala supports only the DFXP v2006 format. For more information about the DFXP
      format that Ooyala supports, go to the official DFXP site at <a class="xref" href="http://www.w3.org/TR/2006/WD-ttaf1-dfxp-20060427/" target="_blank">http://www.w3.org/TR/2006/WD-ttaf1-dfxp-20060427/</a>. <div class="note note"><span class="notetitle">Note:</span> Playback on Ooyala mobile apps (apps developed using the Ooyala iOS and Android SDKs) requires the TTML (formerly DFXP) format. Player V4 Web supports additional closed-caption formats across all browser environments, including browsers on iOS and Android devices.</div>

    </div>

     
    <div class="section" id="dfxp_format__flash_dfxp_cc_styling"><h2 class="title sectiontitle">Default Styling Properties</h2>
      
      <div class="p">For the Flash player, the following styling properties from the DFXP file will be used as
        default (if specified in the DFXP closed caption file). Ooyala only supports the DFXP v2006
        format. <ul class="ul">
          <li class="li">Language</li>

          <li class="li">Text alignment</li>

          
          <li class="li">Text background color (<samp class="ph codeph">tts:backgroundColor</samp>) <div class="p">
              <div class="note note"><span class="notetitle">Note:</span> Text background only displays by default when it is paired with
                tts:showBackground="always"</div>

            </div>
</li>

          <li class="li">Text color (<samp class="ph codeph">tts:color</samp>)</li>

          <li class="li">Font size (<samp class="ph codeph">tts:fontSize</samp>)</li>

          <li class="li">Font family (<samp class="ph codeph">tts:fontFamily</samp>)</li>

          <li class="li">Font style (<samp class="ph codeph">tts:fontStyle</samp>)</li>

          <li class="li">Font weight (<samp class="ph codeph">tts:fontWeight</samp>)</li>

          <li class="li">Opacity i.e. applicable to text box background or window background (<samp class="ph codeph">tts:opacity</samp>)</li>

        </ul>
</div>

      <div class="note note"><span class="notetitle">Note:</span> For Text Direction (<samp class="ph codeph">tts:direction</samp>), Flash automatically adjusts text direction based on
        the language. </div>

    
     
   </div>

    <div class="section"><h2 class="title sectiontitle">Supported DFXP Tags</h2>
      
      <p class="p">Ooyala supports all tags from the 2006 DFXP standard, listed below. Other tags are not supported.</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" id="d834179e130">Tag</th>

              <th class="entry" valign="top" id="d834179e133">Example</th>

              <th class="entry" valign="top" id="d834179e136">Additional Information</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">color</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:color="green"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 ">Ooyala only supports this in the top-level tag that wraps all other
                captions.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">fontSize</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:fontSize="18"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "> </td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">textOutline</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">textOutline="green 2px 0px"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 ">Applies at the paragraph level only, not in subtags.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">fontFamily</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:fontFamily="serif"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 ">Supports fonts installed only by the end-user or generic fonts.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">textAlign</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:textAlign="right"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 ">Re-aligns within the closed caption box only. This does not move the
                box.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">fontStyle</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:fontStyle="italic"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 ">Oblique style is not supported.</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">fontWeight</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:fontWeight="bold"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "> </td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">lineHeight</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:lineHeight="32"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "> </td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">opacity</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 "><samp class="ph codeph">tts:opacity="0.50"</samp></td>

              <td class="entry" valign="top" headers="d834179e130 d834179e133 d834179e136 ">Sets opacity of the background bounding box color.</td>

            </tr>

          </tbody>

        </table>
</div>

    </div>

      <div class="section" id="dfxp_format__flash_dfxp_settings_apply"><h2 class="title sectiontitle">How DFXP Settings Apply</h2>
        
        <p class="p">On a browser without any cached settings, when a player and asset are loaded with DFXP
        settings, all attributes as marked in the list above will be applied with default settings
        provided in the DFXP file. Once the end user modifies the CC settings through the UI
        interface, DFXP settings will be overridden for all settings and replaced with player
        defaults and user preferences. The Flash player defaults are described in the table
        below.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
            
            <thead class="thead" align="left">
              
              <tr class="row">
                
                <th class="entry" valign="top" id="d834179e287">DFXP Styling Property</th>

                
                <th class="entry" valign="top" id="d834179e290">Default Flash Player Setting </th>

                <th class="entry" valign="top" id="d834179e293">Additional Information</th>

                
              </tr>

              
            </thead>

            
            <tbody class="tbody">
              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Language</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">first available</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 "> </td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Text alignment</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">center</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Valid values:  <samp class="ph codeph">left</samp> | <samp class="ph codeph">center</samp> | <samp class="ph codeph">right</samp></td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Text background color (<samp class="ph codeph">tts:background</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">none</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 "> </td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Text color (<samp class="ph codeph">tts:color</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">white</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 "> </td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Font size (<samp class="ph codeph">tts:fontSize</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">14px</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Value should be in px</td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Font family (<samp class="ph codeph">tts:fontFamily</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">sansSerif</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Only supports Generic Family Name</td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Font style (<samp class="ph codeph">tts:fontStyle</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">normal</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Valid values: <samp class="ph codeph">normal</samp>) | <samp class="ph codeph">italic</samp>)</td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Font weight (<samp class="ph codeph">tts:fontWeight</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">normal</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Valid values: <samp class="ph codeph">normal</samp>) | <samp class="ph codeph">bold</samp>)</td>

                
              </tr>

              
              <tr class="row">
                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Opacity i.e. applicable to text background or window background
                  (<samp class="ph codeph">tts:opacity</samp>)</td>

                
                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">0.7</td>

                <td class="entry" valign="top" headers="d834179e287 d834179e290 d834179e293 ">Valid values:  0-1.</td>

                
              </tr>

              
              
              
            </tbody>

            
          </table>
</div>

        <p class="p">User preferences are saved in Flash storage so the settings are available for a user for that specific device until Flash storage is cleared. This is a one time setting that can be saved across any assets played on the Ooyala Flash player.</p>

      </div>
 
    <div class="section"><h2 class="title sectiontitle">DFXP Example</h2>
      
      <p class="p"> The following is an example of a DFXP (now TTML) file with seven captions in English
          (<samp class="ph codeph">xml:lang="en"</samp>) and one caption in French
        (<samp class="ph codeph">xml:lang="fr"</samp>). </p>

      <div class="note note"><span class="notetitle">Note:</span> On the first line or in the appropriate <samp class="ph codeph">&lt;div&gt;</samp>s, be sure to change
        the value of the <samp class="ph codeph">xml:lang</samp> attribute to match your target language; for
        example, change <samp class="ph codeph">en</samp> to <samp class="ph codeph">de</samp> for German.</div>

      <pre class="pre codeblock">&lt;?xml version="1.0" encoding= "UTF-8" ?&gt;
&lt;tt xml:lang="en" xmlns="http://www.w3.org/ns/ttml" xmlns:tts="http://www.w3.org/2006/04/ttaf1#styling"&gt;
&lt;head&gt;
  &lt;styling&gt;
    &lt;style xml:id= "defaultCaption"
      tts:fontSize= "12"
      tts:fontFamily= "sansSerif"
      tts:fontWeight= "normal"
      tts:fontStyle= "normal"
      tts:color= "white"
      tts:backgroundColor= "black"
      tts:showBackground= "always"
      tts:textAlign= "left"
    /&gt;

    &lt;style xml:id= "styleTwo"
      tts:fontFamily= "serif"
      tts:color= "blue"
    /&gt;

    &lt;style xml:id= "styleThree"
      tts:color= "black"
      tts:backgroundColor= "white"
      tts:fontStyle= "italic"
    /&gt;

    &lt;style xml:id= "styleFour" style= "styleTwo"
      tts:textOutline= "red 2px 0px"
    /&gt;

    &lt;style xml:id= "styleFive" style= "styleTwo"
      tts:color= "red"
      tts:fontWeight= "bold"
    /&gt;

  &lt;/styling&gt;
&lt;/head&gt;
&lt;body xml:id= "thebody"&gt;
  &lt;div style= "defaultCaption" xml:lang= "en"&gt;
    &lt;p begin= "0:00:00.00" end= "0:00:04.00"&gt;This is my 1st caption&lt;/p&gt;
    &lt;p begin= "0:00:05.00" end= "0:00:09.00" style= "styleTwo"&gt;This is my 2nd caption&lt;/p&gt;
    &lt;p begin= "0:00:10.00" end= "0:00:14.00" style= "styleThree"&gt;This is my 3rd caption&lt;/p&gt;
    &lt;p begin= "0:00:15.00" end= "0:00:19.00" style= "styleFour"&gt;This is my 4th caption&lt;/p&gt;
    &lt;p begin= "0:00:20.00" end= "0:00:24.00"&gt;This is my 5th caption
      &lt;span style= "styleFive"&gt;This is a sub-caption&lt;/span&gt;
    &lt;/p&gt;
    &lt;p begin= "0:00:25.00" end= "0:00:29.00"&gt;This is my 6th caption&lt;/p&gt;
    &lt;p begin= "0:00:25.00" end= "0:00:29.00" style= "styleTwo"&gt;This is my 7th caption&lt;/p&gt;
  &lt;/div&gt;
  &lt;div style= "defaultCaption" xml:lang= "fr"&gt;
    &lt;p begin= "0:00:00.00" end= "0:00:34.00"&gt;Bonjour&lt;/p&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/tt&gt;    </pre>

    </div>

    <div class="section" id="dfxp_format__ccValidatorDisclaimer"><h2 class="title sectiontitle">Closed Caption Validator</h2>
      
      <p class="p">We are also providing a <span class="ph">Ooyala <a class="xref" href="../../../../../../../ttml_validator.html" target="_blank">Closed Captions Validator</a></span> to
        check your DFXP/TTML documents for your convenience. However, please note that we provide
        Ooyala-specific DFXP support. Even if you follow the w3c document definition for DFXP/TTML,
        it might not be supported. If you run into any issues with your DFXP/TTML files, check with
        your Ooyala representative or Technical Support.</p>

    </div>

  </div>

  <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../concepts/book_standards.html" title="Welcome to Supported Standards Guide. These topics describe the requirements and standards that Ooyala supports.">Supported Standards</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a class="link" href="../concepts/closed_captions_ingest.html" title="You can ingest closed caption files via Backlot or the Ooyala Ingestion Service (OIS).">Ingesting Closed Caption Files</a></div>
<div><a class="link" href="../concepts/ingestion_fileformats.html">Manifest File Formats</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a class="link" href="closed_caption_language.html" title="Before uploading closed caption files to Backlot, verify that you are using a supported language and file format.">Supported Closed Captions</a></div>
</div>
</div>

</body>
</html>